import{a as $c,aj as Vc,ak as qc,j as Wn,d as Zc,p as ur,q as ar,h as gl,$ as Kc,v as Gc,o as _l,c as yl,k as Jc,n as Qc,t as ts,r as ns,e as rs,a0 as qi,P as Zi}from"./framework.DPDg7N6I.js";var es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},os=window.device,D={},tu=[],ke=(window.device=D,window.document.documentElement),is=window.navigator.userAgent.toLowerCase(),wl=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function nu(a,p){return a.indexOf(p)!==-1}function Rt(a){return nu(is,a)}function Tl(a){return ke.className.match(new RegExp(a,"i"))}function Tt(a){var p;Tl(a)||(p=ke.className.replace(/^\s+|\s+$/g,""),ke.className=p+" "+a)}function xl(a){Tl(a)&&(ke.className=ke.className.replace(" "+a,""))}function Co(){D.landscape()?(xl("portrait"),Tt("landscape"),ml("landscape")):(xl("landscape"),Tt("portrait"),ml("portrait")),zl()}function ml(a){for(var p=0;p<tu.length;p++)tu[p](a)}D.macos=function(){return Rt("mac")},D.ios=function(){return D.iphone()||D.ipod()||D.ipad()},D.iphone=function(){return!D.windows()&&Rt("iphone")},D.ipod=function(){return Rt("ipod")},D.ipad=function(){var a=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Rt("ipad")||a},D.android=function(){return!D.windows()&&Rt("android")},D.androidPhone=function(){return D.android()&&Rt("mobile")},D.androidTablet=function(){return D.android()&&!Rt("mobile")},D.blackberry=function(){return Rt("blackberry")||Rt("bb10")},D.blackberryPhone=function(){return D.blackberry()&&!Rt("tablet")},D.blackberryTablet=function(){return D.blackberry()&&Rt("tablet")},D.windows=function(){return Rt("windows")},D.windowsPhone=function(){return D.windows()&&Rt("phone")},D.windowsTablet=function(){return D.windows()&&Rt("touch")&&!D.windowsPhone()},D.fxos=function(){return(Rt("(mobile")||Rt("(tablet"))&&Rt(" rv:")},D.fxosPhone=function(){return D.fxos()&&Rt("mobile")},D.fxosTablet=function(){return D.fxos()&&Rt("tablet")},D.meego=function(){return Rt("meego")},D.cordova=function(){return window.cordova&&location.protocol==="file:"},D.nodeWebkit=function(){return es(window.process)==="object"},D.mobile=function(){return D.androidPhone()||D.iphone()||D.ipod()||D.windowsPhone()||D.blackberryPhone()||D.fxosPhone()||D.meego()},D.tablet=function(){return D.ipad()||D.androidTablet()||D.blackberryTablet()||D.windowsTablet()||D.fxosTablet()},D.desktop=function(){return!D.tablet()&&!D.mobile()},D.television=function(){for(var a=0;a<wl.length;){if(Rt(wl[a]))return!0;a++}return!1},D.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?nu(screen.orientation.type,"portrait"):D.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},D.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?nu(screen.orientation.type,"landscape"):D.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},D.noConflict=function(){return window.device=os,this},D.ios()?D.ipad()?Tt("ios ipad tablet"):D.iphone()?Tt("ios iphone mobile"):D.ipod()&&Tt("ios ipod mobile"):D.macos()?Tt("macos desktop"):D.android()?D.androidTablet()?Tt("android tablet"):Tt("android mobile"):D.blackberry()?D.blackberryTablet()?Tt("blackberry tablet"):Tt("blackberry mobile"):D.windows()?D.windowsTablet()?Tt("windows tablet"):D.windowsPhone()?Tt("windows mobile"):Tt("windows desktop"):D.fxos()?D.fxosTablet()?Tt("fxos tablet"):Tt("fxos mobile"):D.meego()?Tt("meego mobile"):D.nodeWebkit()?Tt("node-webkit"):D.television()?Tt("television"):D.desktop()&&Tt("desktop"),D.cordova()&&Tt("cordova"),D.onChangeOrientation=function(a){typeof a=="function"&&tu.push(a)};var Do="resize";function ru(a){for(var p=0;p<a.length;p++)if(D[a[p]]())return a[p];return"unknown"}function zl(){D.orientation=ru(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Do="orientationchange"),window.addEventListener?window.addEventListener(Do,Co,!1):window.attachEvent?window.attachEvent(Do,Co):window[Do]=Co,Co(),D.type=ru(["mobile","tablet","desktop"]),D.os=ru(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),zl();var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K={exports:{}};(function(a,p){(function(){var i,f="Expected a function",x="__lodash_hash_undefined__",b="__lodash_placeholder__",C=16,R=32,k=64,U=128,vt=256,Mt=1/0,Dt=9007199254740991,xt=NaN,pt=4294967295,lt=[["ary",U],["bind",1],["bindKey",2],["curry",8],["curryRight",C],["flip",512],["partial",R],["partialRight",k],["rearg",vt]],X="[object Arguments]",gt="[object Array]",ut="[object Boolean]",yt="[object Date]",zt="[object Error]",jt="[object Function]",Ln="[object GeneratorFunction]",$t="[object Map]",Nn="[object Number]",T="[object Object]",et="[object Promise]",Y="[object RegExp]",Bt="[object Set]",on="[object String]",Rn="[object Symbol]",St="[object WeakMap]",rt="[object ArrayBuffer]",It="[object DataView]",ft="[object Float32Array]",nt="[object Float64Array]",mt="[object Int8Array]",Vt="[object Int16Array]",sr="[object Int32Array]",ht="[object Uint8Array]",Gt="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Or="[object Uint32Array]",W=/\b__p \+= '';/g,qt=/\b(__p \+=) '' \+/g,pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sn=/&(?:amp|lt|gt|quot|#39);/g,te=/[&<>"']/g,Ee=RegExp(sn.source),hr=RegExp(te.source),Oo=/<%-([\s\S]+?)%>/g,$n=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lr=/[\\^$.*+?()[\]{}|]/g,dr=RegExp(Lr.source),Vn=/^\s+/,Rr=/\s/,qn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tn=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Te=/[()=,{}\[\]\/\s]/,ze=/\\(\\)?/g,Lo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,Ro=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,zo=/^\[object .+?Constructor\]$/,jo=/^0o[0-7]+$/i,je=/^(?:0|[1-9]\d*)$/,Bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tr=/($^)/,h=/['\n\r\u2028\u2029\\]/g,v="\\ud800-\\udfff",E="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zr="\\u2700-\\u27bf",Kn="a-z\\xdf-\\xf6\\xf8-\\xff",zn="A-Z\\xc0-\\xd6\\xd8-\\xde",O="\\ufe0e\\ufe0f",vr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",B="['’]",Jt="["+v+"]",$="["+vr+"]",kt="["+E+"]",Ao="["+zr+"]",Zn="["+Kn+"]",vr="[^"+v+vr+"\\d+"+zr+Kn+zn+"]",zr="\\ud83c[\\udffb-\\udfff]",Kn="[^"+v+"]",oe="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",zn="["+zn+"]",fu="\\u200d",cu="(?:"+Zn+"|"+vr+")",vr="(?:"+zn+"|"+vr+")",su="(?:['’](?:d|ll|m|re|s|t|ve))?",pu="(?:['’](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+kt+"|"+zr+")?",ee="["+O+"]?",ee=ee+Be+("(?:"+fu+"(?:"+[Kn,oe,gr].join("|")+")"+ee+Be+")*"),Be="(?:"+[Ao,oe,gr].join("|")+")"+ee,Ao="(?:"+[Kn+kt+"?",kt,oe,gr,Jt].join("|")+")",Pl=RegExp(B,"g"),Wl=RegExp(kt,"g"),Yo=RegExp(zr+"(?="+zr+")|"+Ao+ee,"g"),Hl=RegExp([zn+"?"+Zn+"+"+su+"(?="+[$,zn,"$"].join("|")+")",vr+"+"+pu+"(?="+[$,zn+cu,"$"].join("|")+")",zn+"?"+cu+"+"+su,zn+"+"+pu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Be].join("|"),"g"),Ul=RegExp("["+fu+v+E+O+"]"),Nl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$l=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vl=-1,_t={},dt=(_t[ft]=_t[nt]=_t[mt]=_t[Vt]=_t[sr]=_t[ht]=_t[Gt]=_t[Ir]=_t[Or]=!0,_t[X]=_t[gt]=_t[rt]=_t[ut]=_t[It]=_t[yt]=_t[zt]=_t[jt]=_t[$t]=_t[Nn]=_t[T]=_t[Y]=_t[Bt]=_t[on]=_t[St]=!1,{}),ql=(dt[X]=dt[gt]=dt[rt]=dt[It]=dt[ut]=dt[yt]=dt[ft]=dt[nt]=dt[mt]=dt[Vt]=dt[sr]=dt[$t]=dt[Nn]=dt[T]=dt[Y]=dt[Bt]=dt[on]=dt[Rn]=dt[ht]=dt[Gt]=dt[Ir]=dt[Or]=!0,dt[zt]=dt[jt]=dt[St]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Zl=parseFloat,Kl=parseInt,Kn=typeof me=="object"&&me&&me.Object===Object&&me,oe=typeof self=="object"&&self&&self.Object===Object&&self,Ft=Kn||oe||Function("return this")(),gr=p&&!p.nodeType&&p,_r=gr&&a&&!a.nodeType&&a,hu=_r&&_r.exports===gr,Xo=hu&&Kn.process,Jt=function(){try{var g=_r&&_r.require&&_r.require("util").types;return g||Xo&&Xo.binding&&Xo.binding("util")}catch{}}(),du=Jt&&Jt.isArrayBuffer,vu=Jt&&Jt.isDate,gu=Jt&&Jt.isMap,_u=Jt&&Jt.isRegExp,yu=Jt&&Jt.isSet,wu=Jt&&Jt.isTypedArray;function un(g,L,y){switch(y.length){case 0:return g.call(L);case 1:return g.call(L,y[0]);case 2:return g.call(L,y[0],y[1]);case 3:return g.call(L,y[0],y[1],y[2])}return g.apply(L,y)}function Gl(g,L,y,F){for(var q=-1,Q=g==null?0:g.length;++q<Q;){var J=g[q];L(F,J,y(J),g)}return F}function pn(g,L){for(var y=-1,F=g==null?0:g.length;++y<F&&L(g[y],y,g)!==!1;);return g}function Jl(g,L){for(var y=g==null?0:g.length;y--&&L(g[y],y,g)!==!1;);return g}function xu(g,L){for(var y=-1,F=g==null?0:g.length;++y<F;)if(!L(g[y],y,g))return!1;return!0}function Gn(g,L){for(var y=-1,F=g==null?0:g.length,q=0,Q=[];++y<F;){var J=g[y];L(J,y,g)&&(Q[q++]=J)}return Q}function Ae(g,L){return!!(g!=null&&g.length)&&-1<jr(g,L,0)}function Mo(g,L,y){for(var F=-1,q=g==null?0:g.length;++F<q;)if(y(L,g[F]))return!0;return!1}function wt(g,L){for(var y=-1,F=g==null?0:g.length,q=Array(F);++y<F;)q[y]=L(g[y],y,g);return q}function Jn(g,L){for(var y=-1,F=L.length,q=g.length;++y<F;)g[q+y]=L[y];return g}function Fo(g,L,y,F){var q=-1,Q=g==null?0:g.length;for(F&&Q&&(y=g[++q]);++q<Q;)y=L(y,g[q],q,g);return y}function Ql(g,L,y,F){var q=g==null?0:g.length;for(F&&q&&(y=g[--q]);q--;)y=L(y,g[q],q,g);return y}function Po(g,L){for(var y=-1,F=g==null?0:g.length;++y<F;)if(L(g[y],y,g))return!0;return!1}var tf=Wo("length");function mu(g,L,y){var F;return y(g,function(q,Q,J){if(L(q,Q,J))return F=Q,!1}),F}function Ye(g,L,y,F){for(var q=g.length,Q=y+(F?1:-1);F?Q--:++Q<q;)if(L(g[Q],Q,g))return Q;return-1}function jr(g,L,y){if(L!=L)return Ye(g,bu,y);for(var F=g,q=L,Q=y-1,J=F.length;++Q<J;)if(F[Q]===q)return Q;return-1}function nf(g,L,y,F){for(var q=y-1,Q=g.length;++q<Q;)if(F(g[q],L))return q;return-1}function bu(g){return g!=g}function Cu(g,L){var y=g==null?0:g.length;return y?Uo(g,L)/y:xt}function Wo(g){return function(L){return L==null?i:L[g]}}function Ho(g){return function(L){return g==null?i:g[L]}}function Du(g,L,y,F,q){return q(g,function(Q,J,ue){y=F?(F=!1,Q):L(y,Q,J,ue)}),y}function Uo(g,L){for(var y,F=-1,q=g.length;++F<q;){var Q=L(g[F]);Q!==i&&(y=y===i?Q:y+Q)}return y}function No(g,L){for(var y=-1,F=Array(g);++y<g;)F[y]=L(y);return F}function Su(g){return g&&g.slice(0,Ou(g)+1).replace(Vn,"")}function an(g){return function(L){return g(L)}}function $o(g,L){return wt(L,function(y){return g[y]})}function ie(g,L){return g.has(L)}function ku(g,L){for(var y=-1,F=g.length;++y<F&&-1<jr(L,g[y],0););return y}function Eu(g,L){for(var y=g.length;y--&&-1<jr(L,g[y],0););return y}var rf=Ho({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ef=Ho({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function of(g){return"\\"+ql[g]}function Br(g){return Ul.test(g)}function Vo(g){var L=-1,y=Array(g.size);return g.forEach(function(F,q){y[++L]=[q,F]}),y}function Iu(g,L){return function(y){return g(L(y))}}function Qn(g,L){for(var y=-1,F=g.length,q=0,Q=[];++y<F;){var J=g[y];J!==L&&J!==b||(g[y]=b,Q[q++]=y)}return Q}function Xe(g){var L=-1,y=Array(g.size);return g.forEach(function(F){y[++L]=F}),y}function Ar(g){return(Br(g)?function(L){for(var y=Yo.lastIndex=0;Yo.test(L);)++y;return y}:tf)(g)}function xn(g){return Br(g)?g.match(Yo)||[]:g.split("")}function Ou(g){for(var L=g.length;L--&&Rr.test(g.charAt(L)););return L}var uf=Ho({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Yr=function g(at){var y=(at=at==null?Ft:Yr.defaults(Ft.Object(),at,Yr.pick(Ft,$l))).Array,Dn=at.Date,F=at.Error,q=at.Function,Q=at.Math,J=at.Object,ue=at.RegExp,af=at.String,hn=at.TypeError,Me=y.prototype,_n=q.prototype,Xr=J.prototype,Mr=at["__core-js_shared__"],Fe=_n.toString,st=Xr.hasOwnProperty,lf=0,Lu=(_n=/[^.]+$/.exec(Mr&&Mr.keys&&Mr.keys.IE_PROTO||""))?"Symbol(src)_1."+_n:"",Pe=Xr.toString,ff=Fe.call(J),cf=Ft._,sf=ue("^"+Fe.call(st).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=hu?at.Buffer:i,Wt=at.Symbol,We=at.Uint8Array,Ru=_n?_n.allocUnsafe:i,He=Iu(J.getPrototypeOf,J),Tu=J.create,zu=Xr.propertyIsEnumerable,Ue=Me.splice,ju=Wt?Wt.isConcatSpreadable:i,ae=Wt?Wt.iterator:i,yr=Wt?Wt.toStringTag:i,Ne=function(){try{var t=Cr(J,"defineProperty");return t({},"",{}),t}catch{}}(),Fr=at.clearTimeout!==Ft.clearTimeout&&at.clearTimeout,Li=Dn&&Dn.now!==Ft.Date.now&&Dn.now,qo=at.setTimeout!==Ft.setTimeout&&at.setTimeout,$e=Q.ceil,Ve=Q.floor,Zo=J.getOwnPropertySymbols,_n=_n?_n.isBuffer:i,Bu=at.isFinite,pf=Me.join,hf=Iu(J.keys,J),At=Q.max,Ht=Q.min,df=Dn.now,vf=at.parseInt,Au=Q.random,gf=Me.reverse,Dn=Cr(at,"DataView"),le=Cr(at,"Map"),fe=Cr(at,"Promise"),Pr=Cr(at,"Set"),at=Cr(at,"WeakMap"),ce=Cr(J,"create"),qe=at&&new at,Wr={},_f=Dr(Dn),yf=Dr(le),wf=Dr(fe),xf=Dr(Pr),mf=Dr(at),Wt=Wt?Wt.prototype:i,se=Wt?Wt.valueOf:i,Yu=Wt?Wt.toString:i;function u(t){if(Et(t)&&!Z(t)&&!(t instanceof ot)){if(t instanceof mn)return t;if(st.call(t,"__wrapped__"))return Xa(t)}return new mn(t)}var Hr=function(t){return bt(t)?Tu?Tu(t):(Ko.prototype=t,t=new Ko,Ko.prototype=i,t):{}};function Ko(){}function Ze(){}function mn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}function ot(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function wr(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function jn(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Bn(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function xr(t){var n=-1,r=t==null?0:t.length;for(this.__data__=new Bn;++n<r;)this.add(t[n])}function bn(t){t=this.__data__=new jn(t),this.size=t.size}function Xu(t,n){var r,e=Z(t),o=!e&&Sr(t),l=!e&&!o&&or(t),c=!e&&!o&&!l&&Vr(t),s=e||o||l||c,d=s?No(t.length,af):[],_=d.length;for(r in t)!n&&!st.call(t,r)||s&&(r=="length"||l&&(r=="offset"||r=="parent")||c&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||Mn(r,_))||d.push(r);return d}function Mu(t){var n=t.length;return n?t[ai(0,n-1)]:i}function bf(t,n){return fo(Qt(t),mr(n,0,t.length))}function Cf(t){return fo(Qt(t))}function Go(t,n,r){(r===i||Cn(t[n],r))&&(r!==i||n in t)||An(t,n,r)}function pe(t,n,r){var e=t[n];st.call(t,n)&&Cn(e,r)&&(r!==i||n in t)||An(t,n,r)}function Ke(t,n){for(var r=t.length;r--;)if(Cn(t[r][0],n))return r;return-1}function Df(t,n,r,e){return tr(t,function(o,l,c){n(e,o,r(o),c)}),e}function Fu(t,n){return t&&kn(n,Xt(n),t)}function An(t,n,r){n=="__proto__"&&Ne?Ne(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function Jo(t,n){for(var r=-1,e=n.length,o=y(e),l=t==null;++r<e;)o[r]=l?i:Bi(t,n[r]);return o}function mr(t,n,r){return t==t&&(r!==i&&(t=t<=r?t:r),n!==i&&(t=n<=t?t:n)),t}function dn(t,n,r,m,o,l){var c,s=1&n,d=2&n,_=4&n;if((c=r?o?r(t,m,o,l):r(t):c)!==i)return c;if(!bt(t))return t;var w,m=Z(t);if(m){if(c=function(j){var I=j.length,z=new j.constructor(I);return I&&typeof j[0]=="string"&&st.call(j,"index")&&(z.index=j.index,z.input=j.input),z}(t),!s)return Qt(t,c)}else{var S=Ut(t),M=S==jt||S==Ln;if(or(t))return ca(t,s);if(S==T||S==X||M&&!o){if(c=d||M?{}:Oa(t),!s)return d?(A=M=t,A=(w=c)&&kn(A,nn(A),w),kn(M,Ea(M),A)):(M=Fu(c,w=t),kn(w,mi(w),M))}else{if(!dt[S])return o?t:{};c=function(j,I,z){var P=j.constructor;switch(I){case rt:return di(j);case ut:case yt:return new P(+j);case It:return function(V,it){return it=it?di(V.buffer):V.buffer,new V.constructor(it,V.byteOffset,V.byteLength)}(j,z);case ft:case nt:case mt:case Vt:case sr:case ht:case Gt:case Ir:case Or:return sa(j,z);case $t:return new P;case Nn:case on:return new P(j);case Y:return function(V){var it=new V.constructor(V.source,re.exec(V));return it.lastIndex=V.lastIndex,it}(j);case Bt:return new P;case Rn:return function(V){return se?J(se.call(V)):{}}(j)}}(t,S,s)}}var A=(l=l||new bn).get(t);if(A)return A;l.set(t,c),rl(t)?t.forEach(function(j){c.add(dn(j,n,r,j,t,l))}):tl(t)&&t.forEach(function(j,I){c.set(I,dn(j,n,r,I,t,l))});var N=m?i:(_?d?yi:_i:d?nn:Xt)(t);return pn(N||t,function(j,I){N&&(j=t[I=j]),pe(c,I,dn(j,n,r,I,t,l))}),c}function Pu(t,n,r){var e=r.length;if(t==null)return!e;for(t=J(t);e--;){var o=r[e],l=n[o],c=t[o];if(c===i&&!(o in t)||!l(c))return!1}return!0}function Wu(t,n,r){if(typeof t!="function")throw new hn(f);return we(function(){t.apply(i,r)},n)}function he(t,n,r,e){var o=-1,l=Ae,c=!0,s=t.length,d=[],_=n.length;if(!s)return d;r&&(n=wt(n,an(r))),e?(l=Mo,c=!1):200<=n.length&&(l=ie,c=!1,n=new xr(n));t:for(;++o<s;){var m=t[o],w=r==null?m:r(m),m=e||m!==0?m:0;if(c&&w==w){for(var S=_;S--;)if(n[S]===w)continue t;d.push(m)}else l(n,w,e)||d.push(m)}return d}u.templateSettings={escape:Oo,evaluate:$n,interpolate:Yt,variable:"",imports:{_:u}},(u.prototype=Ze.prototype).constructor=u,(mn.prototype=Hr(Ze.prototype)).constructor=mn,(ot.prototype=Hr(Ze.prototype)).constructor=ot,wr.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},wr.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},wr.prototype.get=function(t){var n,r=this.__data__;return ce?(n=r[t])===x?i:n:st.call(r,t)?r[t]:i},wr.prototype.has=function(t){var n=this.__data__;return ce?n[t]!==i:st.call(n,t)},wr.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ce&&n===i?x:n,this},jn.prototype.clear=function(){this.__data__=[],this.size=0},jn.prototype.delete=function(t){var n=this.__data__;return!((t=Ke(n,t))<0)&&(t==n.length-1?n.pop():Ue.call(n,t,1),--this.size,!0)},jn.prototype.get=function(t){var n=this.__data__;return(t=Ke(n,t))<0?i:n[t][1]},jn.prototype.has=function(t){return-1<Ke(this.__data__,t)},jn.prototype.set=function(t,n){var r=this.__data__,e=Ke(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this},Bn.prototype.clear=function(){this.size=0,this.__data__={hash:new wr,map:new(le||jn),string:new wr}},Bn.prototype.delete=function(t){return t=lo(this,t).delete(t),this.size-=t?1:0,t},Bn.prototype.get=function(t){return lo(this,t).get(t)},Bn.prototype.has=function(t){return lo(this,t).has(t)},Bn.prototype.set=function(t,n){var r=lo(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this},xr.prototype.add=xr.prototype.push=function(t){return this.__data__.set(t,x),this},xr.prototype.has=function(t){return this.__data__.has(t)},bn.prototype.clear=function(){this.__data__=new jn,this.size=0},bn.prototype.delete=function(r){var n=this.__data__,r=n.delete(r);return this.size=n.size,r},bn.prototype.get=function(t){return this.__data__.get(t)},bn.prototype.has=function(t){return this.__data__.has(t)},bn.prototype.set=function(t,n){var r=this.__data__;if(r instanceof jn){var e=r.__data__;if(!le||e.length<199)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new Bn(e)}return r.set(t,n),this.size=r.size,this};var tr=va(Sn),Hu=va(ti,!0);function Sf(t,n){var r=!0;return tr(t,function(e,o,l){return r=!!n(e,o,l)}),r}function Ge(t,n,r){for(var e=-1,o=t.length;++e<o;){var l,c,s=t[e],d=n(s);d!=null&&(l===i?d==d&&!fn(d):r(d,l))&&(l=d,c=s)}return c}function Uu(t,n){var r=[];return tr(t,function(e,o,l){n(e,o,l)&&r.push(e)}),r}function Pt(t,n,r,e,o){var l=-1,c=t.length;for(r=r||Yf,o=o||[];++l<c;){var s=t[l];0<n&&r(s)?1<n?Pt(s,n-1,r,e,o):Jn(o,s):e||(o[o.length]=s)}return o}var Qo=ga(),Nu=ga(!0);function Sn(t,n){return t&&Qo(t,n,Xt)}function ti(t,n){return t&&Nu(t,n,Xt)}function Je(t,n){return Gn(n,function(r){return Fn(t[r])})}function br(t,n){for(var r=0,e=(n=rr(n,t)).length;t!=null&&r<e;)t=t[En(n[r++])];return r&&r==e?t:i}function $u(t,n,r){return n=n(t),Z(t)?n:Jn(n,r(t))}function Zt(t){{if(t==null)return t===i?"[object Undefined]":"[object Null]";if(yr&&yr in J(t)){var n=t,r=st.call(n,yr),e=n[yr];try{n[yr]=i;var o=!0}catch{}var l=Pe.call(n);return o&&(r?n[yr]=e:delete n[yr]),l}return Pe.call(t)}}function ni(t,n){return n<t}function kf(t,n){return t!=null&&st.call(t,n)}function Ef(t,n){return t!=null&&n in J(t)}function ri(t,n,r){for(var e=r?Mo:Ae,o=t[0].length,l=t.length,c=l,s=y(l),d=1/0,_=[];c--;){var w=t[c];c&&n&&(w=wt(w,an(n))),d=Ht(w.length,d),s[c]=!r&&(n||120<=o&&120<=w.length)?new xr(c&&w):i}var w=t[0],m=-1,S=s[0];t:for(;++m<o&&_.length<d;){var A=w[m],M=n?n(A):A,A=r||A!==0?A:0;if(!(S?ie(S,M):e(_,M,r))){for(c=l;--c;){var N=s[c];if(!(N?ie(N,M):e(t[c],M,r)))continue t}S&&S.push(M),_.push(A)}}return _}function de(t,n,r){return n=(t=za(t,n=rr(n,t)))==null?t:t[En(gn(n))],n==null?i:un(n,t,r)}function Vu(t){return Et(t)&&Zt(t)==X}function ve(t,n,r,e,o){{if(t===n)return!0;if(t==null||n==null||!Et(t)&&!Et(n))return t!=t&&n!=n;var l=ve,c=Z(t),w=Z(n),s=c?gt:Ut(t),w=w?gt:Ut(n),d=(s=s==X?T:s)==T,_=(w=w==X?T:w)==T,w;if((w=s==w)&&or(t)){if(!or(n))return!1;d=!(c=!0)}if(w&&!d){if(o=o||new bn,c||Vr(t))return ka(t,n,r,e,l,o);var m=t,S=n,M=s,A=r,N=e,j=l,I=o;switch(M){case It:if(m.byteLength!=S.byteLength||m.byteOffset!=S.byteOffset)return!1;m=m.buffer,S=S.buffer;case rt:return!!(m.byteLength==S.byteLength&&j(new We(m),new We(S)));case ut:case yt:case Nn:return Cn(+m,+S);case zt:return m.name==S.name&&m.message==S.message;case Y:case on:return m==S+"";case $t:var z=Vo;case Bt:var P=1&A;return z=z||Xe,m.size!=S.size&&!P?!1:(P=I.get(m),P?P==S:(A|=2,I.set(m,S),P=ka(z(m),z(S),A,N,j,I),I.delete(m),P));case Rn:if(se)return se.call(m)==se.call(S)}return!1}if(!(1&r)&&(c=d&&st.call(t,"__wrapped__"),s=_&&st.call(n,"__wrapped__"),c||s))return d=c?t.value():t,_=s?n.value():n,o=o||new bn,l(d,_,r,e,o);if(w){o=o||new bn;var V=t,it=n,Ct=r,en=e,Lt=l,Nt=o,Zr=1&Ct,Kr=_i(V),Ni=Kr.length,c=_i(it).length;if(Ni!=c&&!Zr)return!1;for(var wo=Ni;wo--;){var ir=Kr[wo];if(!(Zr?ir in it:st.call(it,ir)))return!1}if(c=Nt.get(V),s=Nt.get(it),c&&s)return c==it&&s==V;for(var xo=!0,$i=(Nt.set(V,it),Nt.set(it,V),Zr);++wo<Ni;){ir=Kr[wo];var Vi,mo=V[ir],bo=it[ir];if(!((Vi=en?Zr?en(bo,mo,ir,it,V,Nt):en(mo,bo,ir,V,it,Nt):Vi)===i?mo===bo||Lt(mo,bo,Ct,en,Nt):Vi)){xo=!1;break}$i=$i||ir=="constructor"}return xo&&!$i&&(c=V.constructor,s=it.constructor,c!=s&&"constructor"in V&&"constructor"in it&&!(typeof c=="function"&&c instanceof c&&typeof s=="function"&&s instanceof s)&&(xo=!1)),Nt.delete(V),Nt.delete(it),xo}return!1}}function ei(t,n,r,e){var o=r.length,l=o,c=!e;if(t==null)return!l;for(t=J(t);o--;){var s=r[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<l;){var d=(s=r[o])[0],_=t[d],w=s[1];if(c&&s[2]){if(_===i&&!(d in t))return!1}else{var m,S=new bn;if(!((m=e?e(_,w,d,t,n,S):m)===i?ve(w,_,3,e,S):m))return!1}}return!0}function qu(t){return!(!bt(t)||(n=t,Lu&&Lu in n))&&(Fn(t)?sf:zo).test(Dr(t));var n}function Zu(t){return typeof t=="function"?t:t==null?rn:typeof t=="object"?Z(t)?Ju(t[0],t[1]):Gu(t):vl(t)}function oi(t){if(!ye(t))return hf(t);var n,r=[];for(n in J(t))st.call(t,n)&&n!="constructor"&&r.push(n);return r}function If(t){if(!bt(t)){var n=t,r=[];if(n!=null)for(var e in J(n))r.push(e);return r}var o,l=ye(t),c=[];for(o in t)(o!="constructor"||!l&&st.call(t,o))&&c.push(o);return c}function ii(t,n){return t<n}function Ku(t,n){var r=-1,e=tn(t)?y(t.length):[];return tr(t,function(o,l,c){e[++r]=n(o,l,c)}),e}function Gu(t){var n=xi(t);return n.length==1&&n[0][2]?Ra(n[0][0],n[0][1]):function(r){return r===t||ei(r,t,n)}}function Ju(t,n){return bi(t)&&La(n)?Ra(En(t),n):function(r){var e=Bi(r,t);return e===i&&e===n?Ai(r,t):ve(n,e,3)}}function Qe(t,n,r,e,o){t!==n&&Qo(n,function(l,c){var s,d,_,w,m,S,M,A,N,j,I,z,P;o=o||new bn,bt(l)?(d=n,w=r,m=Qe,S=e,M=o,I=Di(s=t,_=c),z=Di(d,_),(P=M.get(z))||(P=S?S(I,z,_+"",s,d,M):i,(d=P===i)&&(A=Z(z),N=!A&&or(z),j=!A&&!N&&Vr(z),P=z,A||N||j?P=Z(I)?I:Ot(I)?Qt(I):N?ca(z,!(d=!1)):j?sa(z,!(d=!1)):[]:xe(z)||Sr(z)?Sr(P=I)?P=il(I):bt(I)&&!Fn(I)||(P=Oa(z)):d=!1),d&&(M.set(z,P),m(P,z,w,S,M),M.delete(z))),Go(s,_,P)):(A=e?e(Di(t,c),l,c+"",t,n,o):i,Go(t,c,A=A===i?l:A))},nn)}function Qu(t,n){var r=t.length;if(r)return Mn(n+=n<0?r:0,r)?t[n]:i}function ta(l,n,r){n=n.length?wt(n,function(s){return Z(s)?function(d){return br(d,s.length===1?s[0]:s)}:s}):[rn];var e=-1;n=wt(n,an(H()));var o=Ku(l,function(s,d,_){return{criteria:wt(n,function(w){return w(s)}),index:++e,value:s}}),l=function(s,d){for(var _=r,w=-1,m=s.criteria,S=d.criteria,M=m.length,A=_.length;++w<M;){var N=pa(m[w],S[w]);if(N){if(A<=w)return N;var j=_[w];return N*(j=="desc"?-1:1)}}return s.index-d.index},c=o.length;for(o.sort(l);c--;)o[c]=o[c].value;return o}function na(t,n,r){for(var e=-1,o=n.length,l={};++e<o;){var c=n[e],s=br(t,c);r(s,c)&&ge(l,rr(c,t),s)}return l}function ui(t,n,r,e){var o=e?nf:jr,l=-1,c=n.length,s=t;for(t===n&&(n=Qt(n)),r&&(s=wt(t,an(r)));++l<c;)for(var d=0,_=n[l],w=r?r(_):_;-1<(d=o(s,w,d,e));)s!==t&&Ue.call(s,d,1),Ue.call(t,d,1);return t}function ra(t,n){for(var r=t?n.length:0,e=r-1;r--;){var o,l=n[r];r!=e&&l===o||(Mn(o=l)?Ue.call(t,l,1):ci(t,l))}}function ai(t,n){return t+Ve(Au()*(n-t+1))}function li(t,n){var r="";if(!t||n<1||Dt<n)return r;for(;n%2&&(r+=t),(n=Ve(n/2))&&(t+=t),n;);return r}function tt(t,n){return Si(Ta(t,n,rn),t+"")}function Of(t){return Mu(qr(t))}function Lf(t,n){return t=qr(t),fo(t,mr(n,0,t.length))}function ge(t,n,r,e){if(!bt(t))return t;for(var o=-1,l=(n=rr(n,t)).length,c=l-1,s=t;s!=null&&++o<l;){var d,_=En(n[o]),w=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return t;o!=c&&(d=s[_],(w=e?e(d,_,s):i)===i&&(w=bt(d)?d:Mn(n[o+1])?[]:{})),pe(s,_,w),s=s[_]}return t}var ea=qe?function(t,n){return qe.set(t,n),t}:rn,Wt=Ne?function(t,n){return Ne(t,"toString",{configurable:!0,enumerable:!1,value:Xi(n),writable:!0})}:rn;function Rf(t){return fo(qr(t))}function vn(t,n,r){for(var e=-1,o=t.length,l=((r=o<r?o:r)<0&&(r+=o),o=r<(n=n<0?o<-n?0:o+n:n)?0:r-n>>>0,n>>>=0,y(o));++e<o;)l[e]=t[e+n];return l}function Tf(t,n){var r;return tr(t,function(e,o,l){return!(r=n(e,o,l))}),!!r}function to(t,n,r){var e=0,o=t==null?e:t.length;if(typeof n=="number"&&n==n&&o<=2147483647){for(;e<o;){var l=e+o>>>1,c=t[l];c!==null&&!fn(c)&&(r?c<=n:c<n)?e=1+l:o=l}return o}return fi(t,n,rn,r)}function fi(t,n,r,e){var o=0,l=t==null?0:t.length;if(l===0)return 0;for(var c=(n=r(n))!=n,s=n===null,d=fn(n),_=n===i;o<l;){var w=Ve((o+l)/2),m=r(t[w]),S=m!==i,M=m===null,N=m==m,A=fn(m),N=c?e||N:_?N&&(e||S):s?N&&S&&(e||!M):d?N&&S&&!M&&(e||!A):!M&&!A&&(e?m<=n:m<n);N?o=w+1:l=w}return Ht(l,4294967294)}function oa(t,n){for(var r=-1,e=t.length,o=0,l=[];++r<e;){var c,s=t[r],d=n?n(s):s;r&&Cn(d,c)||(c=d,l[o++]=s===0?0:s)}return l}function ia(t){return typeof t=="number"?t:fn(t)?xt:+t}function ln(t){if(typeof t=="string")return t;if(Z(t))return wt(t,ln)+"";if(fn(t))return Yu?Yu.call(t):"";var n=t+"";return n=="0"&&1/t==-Mt?"-0":n}function nr(t,n,r){var e=-1,o=Ae,l=t.length,c=!0,s=[],d=s;if(r)c=!1,o=Mo;else if(200<=l){var _=n?null:Bf(t);if(_)return Xe(_);c=!1,o=ie,d=new xr}else d=n?[]:s;t:for(;++e<l;){var m=t[e],w=n?n(m):m,m=r||m!==0?m:0;if(c&&w==w){for(var S=d.length;S--;)if(d[S]===w)continue t;n&&d.push(w),s.push(m)}else o(d,w,r)||(d!==s&&d.push(w),s.push(m))}return s}function ci(t,n){return(t=za(t,n=rr(n,t)))==null||delete t[En(gn(n))]}function ua(t,n,r,e){return ge(t,n,r(br(t,n)),e)}function no(t,n,r,e){for(var o=t.length,l=e?o:-1;(e?l--:++l<o)&&n(t[l],l,t););return r?vn(t,e?0:l,e?l+1:o):vn(t,e?l+1:0,e?o:l)}function aa(t,n){var r=t;return Fo(n,function(e,o){return o.func.apply(o.thisArg,Jn([e],o.args))},r=t instanceof ot?t.value():r)}function si(t,n,r){var e=t.length;if(e<2)return e?nr(t[0]):[];for(var o=-1,l=y(e);++o<e;)for(var c=t[o],s=-1;++s<e;)s!=o&&(l[o]=he(l[o]||c,t[s],n,r));return nr(Pt(l,1),n,r)}function la(t,n,r){for(var e=-1,o=t.length,l=n.length,c={};++e<o;){var s=e<l?n[e]:i;r(c,t[e],s)}return c}function pi(t){return Ot(t)?t:[]}function hi(t){return typeof t=="function"?t:rn}function rr(t,n){return Z(t)?t:bi(t,n)?[t]:Ya(ct(t))}var Ri=tt;function er(t,n,r){var e=t.length;return r=r===i?e:r,!n&&e<=r?t:vn(t,n,r)}var fa=Fr||function(t){return Ft.clearTimeout(t)};function ca(t,n){return n?t.slice():(n=t.length,n=Ru?Ru(n):new t.constructor(n),t.copy(n),n)}function di(t){var n=new t.constructor(t.byteLength);return new We(n).set(new We(t)),n}function sa(t,n){return n=n?di(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.length)}function pa(t,n){if(t!==n){var r=t!==i,e=t===null,o=t==t,l=fn(t),c=n!==i,s=n===null,d=n==n,_=fn(n);if(!s&&!_&&!l&&n<t||l&&c&&d&&!s&&!_||e&&c&&d||!r&&d||!o)return 1;if(!e&&!l&&!_&&t<n||_&&r&&o&&!e&&!l||s&&r&&o||!c&&o||!d)return-1}return 0}function ha(t,n,r,e){for(var o=-1,l=t.length,c=r.length,s=-1,d=n.length,_=At(l-c,0),w=y(d+_),m=!e;++s<d;)w[s]=n[s];for(;++o<c;)(m||o<l)&&(w[r[o]]=t[o]);for(;_--;)w[s++]=t[o++];return w}function da(t,n,r,e){for(var o=-1,l=t.length,c=-1,s=r.length,d=-1,_=n.length,w=At(l-s,0),m=y(w+_),S=!e;++o<w;)m[o]=t[o];for(var M=o;++d<_;)m[M+d]=n[d];for(;++c<s;)(S||o<l)&&(m[M+r[c]]=t[o++]);return m}function Qt(t,n){var r=-1,e=t.length;for(n=n||y(e);++r<e;)n[r]=t[r];return n}function kn(t,n,r,e){for(var o=!r,l=(r=r||{},-1),c=n.length;++l<c;){var s=n[l],d=e?e(r[s],t[s],s,r,t):i;(o?An:pe)(r,s,d=d===i?t[s]:d)}return r}function ro(t,n){return function(r,e){var o=Z(r)?Gl:Df,l=n?n():{};return o(r,t,H(e,2),l)}}function Ur(t){return tt(function(n,r){var e=-1,o=r.length,c=1<o?r[o-1]:i,l=2<o?r[2]:i,c=3<t.length&&typeof c=="function"?(o--,c):i;for(l&&Kt(r[0],r[1],l)&&(c=o<3?i:c,o=1),n=J(n);++e<o;){var s=r[e];s&&t(n,s,e,c)}return n})}function va(t,n){return function(r,e){if(r==null)return r;if(!tn(r))return t(r,e);for(var o=r.length,l=n?o:-1,c=J(r);(n?l--:++l<o)&&e(c[l],l,c)!==!1;);return r}}function ga(t){return function(n,r,e){for(var o=-1,l=J(n),c=e(n),s=c.length;s--;){var d=c[t?s:++o];if(r(l[d],d,l)===!1)break}return n}}function _a(t){return function(n){var e=Br(n=ct(n))?xn(n):i,r=e?e[0]:n.charAt(0),e=e?er(e,1).join(""):n.slice(1);return r[t]()+e}}function Nr(t){return function(n){return Fo(hl(pl(n).replace(Pl,"")),t,"")}}function _e(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Hr(t.prototype),e=t.apply(r,n);return bt(e)?e:r}}function zf(t,n,r){var e=_e(t);return function o(){for(var l=arguments.length,c=y(l),s=l,d=$r(o);s--;)c[s]=arguments[s];return d=l<3&&c[0]!==d&&c[l-1]!==d?[]:Qn(c,d),(l-=d.length)<r?ba(t,n,eo,o.placeholder,i,c,d,i,i,r-l):un(this&&this!==Ft&&this instanceof o?e:t,this,c)}}function ya(t){return function(n,c,e){var o,l=J(n),c=(tn(n)||(o=H(c,3),n=Xt(n),c=function(s){return o(l[s],s,l)}),t(n,c,e));return-1<c?l[o?n[c]:c]:i}}function wa(t){return Xn(function(n){var r=n.length,e=r,o=mn.prototype.thru;for(t&&n.reverse();e--;){var l=n[e];if(typeof l!="function")throw new hn(f);o&&!d&&ao(l)=="wrapper"&&(d=new mn([],!0))}for(e=d?e:r;++e<r;)var c=ao(l=n[e]),s=c=="wrapper"?wi(l):i,d=s&&Ci(s[0])&&s[1]==424&&!s[4].length&&s[9]==1?d[ao(s[0])].apply(d,s[3]):l.length==1&&Ci(l)?d[c]():d.thru(l);return function(){var _=arguments,w=_[0];if(d&&_.length==1&&Z(w))return d.plant(w).value();for(var m=0,S=r?n[m].apply(this,_):w;++m<r;)S=n[m].call(this,S);return S}})}function eo(t,n,r,e,o,l,c,s,d,_){var w=n&U,m=1&n,S=2&n,M=24&n,A=512&n,N=S?i:_e(t);return function j(){for(var I=y(it=arguments.length),z=it;z--;)I[z]=arguments[z];if(M&&(V=function(Ct,en){for(var Lt=Ct.length,Nt=0;Lt--;)Ct[Lt]===en&&++Nt;return Nt}(I,P=$r(j))),e&&(I=ha(I,e,o,M)),l&&(I=da(I,l,c,M)),it-=V,M&&it<_)return V=Qn(I,P),ba(t,n,eo,j.placeholder,r,I,V,s,d,_-it);var P=m?r:this,V=S?P[t]:t,it=I.length;return s?I=function(Ct,en){for(var Lt=Ct.length,Nt=Ht(en.length,Lt),Zr=Qt(Ct);Nt--;){var Kr=en[Nt];Ct[Nt]=Mn(Kr,Lt)?Zr[Kr]:i}return Ct}(I,s):A&&1<it&&I.reverse(),w&&d<it&&(I.length=d),(V=this&&this!==Ft&&this instanceof j?N||_e(V):V).apply(P,I)}}function xa(t,n){return function(r,e){return r=r,o=t,l=n(e),c={},Sn(r,function(s,d,_){o(c,l(s),d,_)}),c;var o,l,c}}function oo(t,n){return function(r,e){var o;if(r===i&&e===i)return n;if(r!==i&&(o=r),e!==i){if(o===i)return e;e=typeof r=="string"||typeof e=="string"?(r=ln(r),ln(e)):(r=ia(r),ia(e)),o=t(r,e)}return o}}function vi(t){return Xn(function(n){return n=wt(n,an(H())),tt(function(r){var e=this;return t(n,function(o){return un(o,e,r)})})})}function io(t,n){var r=(n=n===i?" ":ln(n)).length;return r<2?r?li(n,t):n:(r=li(n,$e(t/Ar(n))),Br(n)?er(xn(r),0,t).join(""):r.slice(0,t))}function jf(t,n,r,e){var o=1&n,l=_e(t);return function c(){for(var s=-1,d=arguments.length,_=-1,w=e.length,m=y(w+d),S=this&&this!==Ft&&this instanceof c?l:t;++_<w;)m[_]=e[_];for(;d--;)m[_++]=arguments[++s];return un(S,o?r:this,m)}}function ma(t){return function(n,r,e){e&&typeof e!="number"&&Kt(n,r,e)&&(r=e=i),n=Pn(n),r===i?(r=n,n=0):r=Pn(r),e=e===i?n<r?1:-1:Pn(e);for(var o=n,l=e,c=t,s=-1,d=At($e((r-o)/(l||1)),0),_=y(d);d--;)_[c?d:++s]=o,o+=l;return _}}function uo(t){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=yn(n),r=yn(r)),t(n,r)}}function ba(t,n,r,e,m,S,c,s,d,_){var w=8&n,m=(4&(n=(n|(w?R:k))&~(w?k:R))||(n&=-4),[t,n,m,w?S:i,w?c:i,w?i:S,w?i:c,s,d,_]),S=r.apply(i,m);return Ci(t)&&ja(S,m),S.placeholder=e,Ba(S,t,n)}function gi(t){var n=Q[t];return function(r,e){var o;return r=yn(r),(e=e==null?0:Ht(G(e),292))&&Bu(r)?(o=(ct(r)+"e").split("e"),+((o=(ct(n(o[0]+"e"+(+o[1]+e)))+"e").split("e"))[0]+"e"+(+o[1]-e))):n(r)}}var Bf=Pr&&1/Xe(new Pr([,-0]))[1]==Mt?function(t){return new Pr(t)}:Pi;function Ca(t){return function(n){var r,e,o,l=Ut(n);return l==$t?Vo(n):l==Bt?(l=n,r=-1,e=Array(l.size),l.forEach(function(c){e[++r]=[c,c]}),e):wt(t(o=n),function(c){return[c,o[c]]})}}function Yn(t,n,r,e,o,l,c,s){var d=2&n;if(!d&&typeof t!="function")throw new hn(f);var _,w,m,S,M,A=e?e.length:0,N=(A||(n&=-97,e=o=i),c=c===i?c:At(G(c),0),s=s===i?s:G(s),A-=o?o.length:0,n&k&&(j=e,_=o,e=o=i),d?i:wi(t)),j=[t,n,r,e,o,j,_,l,c,s];return N&&function(I,z){var P=I[1],V=z[1],it=P|V,Ct=it<131,en=V==U&&P==8||V==U&&P==vt&&I[7].length<=z[8]||V==384&&z[7].length<=z[8]&&P==8;if(!(!Ct&&!en)){1&V&&(I[2]=z[2],it|=1&P?0:4),Ct=z[3];{var Lt;Ct&&(Lt=I[3],I[3]=Lt?ha(Lt,Ct,z[4]):Ct,I[4]=Lt?Qn(I[3],b):z[4])}(Ct=z[5])&&(Lt=I[5],I[5]=Lt?da(Lt,Ct,z[6]):Ct,I[6]=Lt?Qn(I[5],b):z[6]),(Ct=z[7])&&(I[7]=Ct),V&U&&(I[8]=I[8]==null?z[8]:Ht(I[8],z[8])),I[9]==null&&(I[9]=z[9]),I[0]=z[0],I[1]=it}}(j,N),t=j[0],n=j[1],r=j[2],e=j[3],o=j[4],!(s=j[9]=j[9]===i?d?0:t.length:At(j[9]-A,0))&&24&n&&(n&=-25),_=n&&n!=1?n==8||n==C?zf(t,n,s):n!=R&&n!=33||o.length?eo.apply(i,j):jf(t,n,r,e):(m=r,S=1&n,M=_e(w=t),function I(){return(this&&this!==Ft&&this instanceof I?M:w).apply(S?m:this,arguments)}),Ba((N?ea:ja)(_,j),t,n)}function Da(t,n,r,e){return t===i||Cn(t,Xr[r])&&!st.call(e,r)?n:t}function Sa(t,n,r,e,o,l){return bt(t)&&bt(n)&&(l.set(n,t),Qe(t,n,i,Sa,l),l.delete(n)),t}function Af(t){return xe(t)?i:t}function ka(t,n,r,e,o,l){var c=1&r,s=t.length,d=n.length;if(s!=d&&!(c&&s<d))return!1;var d=l.get(t),_=l.get(n);if(d&&_)return d==n&&_==t;var w=-1,m=!0,S=2&r?new xr:i;for(l.set(t,n),l.set(n,t);++w<s;){var M,A=t[w],N=n[w];if((M=e?c?e(N,A,w,n,t,l):e(A,N,w,t,n,l):M)!==i){if(M)continue;m=!1;break}if(S){if(!Po(n,function(j,I){return!ie(S,I)&&(A===j||o(A,j,r,e,l))&&S.push(I)})){m=!1;break}}else if(A!==N&&!o(A,N,r,e,l)){m=!1;break}}return l.delete(t),l.delete(n),m}function Xn(t){return Si(Ta(t,i,Pa),t+"")}function _i(t){return $u(t,Xt,mi)}function yi(t){return $u(t,nn,Ea)}var wi=qe?function(t){return qe.get(t)}:Pi;function ao(t){for(var n=t.name+"",r=Wr[n],e=st.call(Wr,n)?r.length:0;e--;){var o=r[e],l=o.func;if(l==null||l==t)return o.name}return n}function $r(t){return(st.call(u,"placeholder")?u:t).placeholder}function H(){var t=(t=u.iteratee||Mi)===Mi?Zu:t;return arguments.length?t(arguments[0],arguments[1]):t}function lo(o,n){var r,e,o=o.__data__;return((e=typeof(r=n))=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null)?o[typeof n=="string"?"string":"hash"]:o.map}function xi(t){for(var n=Xt(t),r=n.length;r--;){var e=n[r],o=t[e];n[r]=[e,o,La(o)]}return n}function Cr(t,n){return n=n,t=(t=t)==null?i:t[n],qu(t)?t:i}var mi=Zo?function(t){return t==null?[]:(t=J(t),Gn(Zo(t),function(n){return zu.call(t,n)}))}:Wi,Ea=Zo?function(t){for(var n=[];t;)Jn(n,mi(t)),t=He(t);return n}:Wi,Ut=Zt;function Ia(t,n,r){for(var e=-1,o=(n=rr(n,t)).length,l=!1;++e<o;){var c=En(n[e]);if(!(l=t!=null&&r(t,c)))break;t=t[c]}return l||++e!=o?l:!!(o=t==null?0:t.length)&&go(o)&&Mn(c,o)&&(Z(t)||Sr(t))}function Oa(t){return typeof t.constructor!="function"||ye(t)?{}:Hr(He(t))}function Yf(t){return Z(t)||Sr(t)||!!(ju&&t&&t[ju])}function Mn(t,n){var r=typeof t;return!!(n=n??Dt)&&(r=="number"||r!="symbol"&&je.test(t))&&-1<t&&t%1==0&&t<n}function Kt(t,n,r){var e;if(bt(r))return e=typeof n,(e=="number"?tn(r)&&Mn(n,r.length):e=="string"&&n in r)&&Cn(r[n],t)}function bi(t,n){var r;if(!Z(t))return r=typeof t,r=="number"||r=="symbol"||r=="boolean"||t==null||fn(t)||Oe.test(t)||!Ie.test(t)||n!=null&&t in J(n)}function Ci(t){var n=ao(t),r=u[n];if(typeof r=="function"&&n in ot.prototype)return t===r?1:(n=wi(r),n&&t===n[0])}(Dn&&Ut(new Dn(new ArrayBuffer(1)))!=It||le&&Ut(new le)!=$t||fe&&Ut(fe.resolve())!=et||Pr&&Ut(new Pr)!=Bt||at&&Ut(new at)!=St)&&(Ut=function(r){var n=Zt(r),r=n==T?r.constructor:i,r=r?Dr(r):"";if(r)switch(r){case _f:return It;case yf:return $t;case wf:return et;case xf:return Bt;case mf:return St}return n});var Xf=Mr?Fn:Hi;function ye(t){var n=t&&t.constructor;return t===(typeof n=="function"&&n.prototype||Xr)}function La(t){return t==t&&!bt(t)}function Ra(t,n){return function(r){return r!=null&&r[t]===n&&(n!==i||t in J(r))}}function Ta(t,n,r){return n=At(n===i?t.length-1:n,0),function(){for(var e=arguments,o=-1,l=At(e.length-n,0),c=y(l);++o<l;)c[o]=e[n+o];for(var o=-1,s=y(n+1);++o<n;)s[o]=e[o];return s[n]=r(c),un(t,this,s)}}function za(t,n){return n.length<2?t:br(t,vn(n,0,-1))}function Di(t,n){if((n!=="constructor"||typeof t[n]!="function")&&n!="__proto__")return t[n]}var ja=Aa(ea),we=qo||function(t,n){return Ft.setTimeout(t,n)},Si=Aa(Wt);function Ba(t,l,r){var e,o,l=l+"";return Si(t,function(c,s){var d=s.length;if(!d)return c;var _=d-1;return s[_]=(1<d?"& ":"")+s[_],s=s.join(2<d?", ":" "),c.replace(qn,`{
/* [wrapped with `+s+`] */
`)}(l,(e=(t=(t=l).match(Tn))?t[1].split(Le):[],o=r,pn(lt,function(c){var s="_."+c[0];o&c[1]&&!Ae(e,s)&&e.push(s)}),e.sort())))}function Aa(t){var n=0,r=0;return function(){var e=df(),o=16-(e-r);if(r=e,0<o){if(800<=++n)return arguments[0]}else n=0;return t.apply(i,arguments)}}function fo(t,n){var r=-1,e=t.length,o=e-1;for(n=n===i?e:n;++r<n;){var l=ai(r,o),c=t[l];t[l]=t[r],t[r]=c}return t.length=n,t}ki=(Fr=ho(Fr=function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(ne,function(r,e,o,l){n.push(o?l.replace(ze,"$1"):e||r)}),n},function(t){return ki.size===500&&ki.clear(),t})).cache;var ki,Ya=Fr;function En(t){if(typeof t=="string"||fn(t))return t;var n=t+"";return n=="0"&&1/t==-Mt?"-0":n}function Dr(t){if(t!=null){try{return Fe.call(t)}catch{}try{return t+""}catch{}}return""}function Xa(t){if(t instanceof ot)return t.clone();var n=new mn(t.__wrapped__,t.__chain__);return n.__actions__=Qt(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}Dn=tt(function(t,n){return Ot(t)?he(t,Pt(n,1,Ot,!0)):[]}),fe=tt(function(t,n){var r=gn(n);return Ot(r)&&(r=i),Ot(t)?he(t,Pt(n,1,Ot,!0),H(r,2)):[]}),at=tt(function(t,n){var r=gn(n);return Ot(r)&&(r=i),Ot(t)?he(t,Pt(n,1,Ot,!0),i,r):[]});function Ma(t,n,r){var e=t==null?0:t.length;return e?(r=r==null?0:G(r),r<0&&(r=At(e+r,0)),Ye(t,H(n,3),r)):-1}function Fa(t,n,r){var e=t==null?0:t.length;if(!e)return-1;var o=e-1;return r!==i&&(o=G(r),o=r<0?At(e+o,0):Ht(o,e-1)),Ye(t,H(n,3),o,!0)}function Pa(t){return t!=null&&t.length?Pt(t,1):[]}function Wa(t){return t&&t.length?t[0]:i}Mr=tt(function(t){var n=wt(t,pi);return n.length&&n[0]===t[0]?ri(n):[]}),qo=tt(function(t){var n=gn(t),r=wt(t,pi);return n===gn(r)?n=i:r.pop(),r.length&&r[0]===t[0]?ri(r,H(n,2)):[]}),Wt=tt(function(t){var n=gn(t),r=wt(t,pi);return(n=typeof n=="function"?n:i)&&r.pop(),r.length&&r[0]===t[0]?ri(r,i,n):[]});function gn(t){var n=t==null?0:t.length;return n?t[n-1]:i}Fr=tt(Ha);function Ha(t,n){return t&&t.length&&n&&n.length?ui(t,n):t}var Mf=Xn(function(t,n){var r=t==null?0:t.length,e=Jo(t,n);return ra(t,wt(n,function(o){return Mn(o,r)?+o:o}).sort(pa)),e});function Ei(t){return t==null?t:gf.call(t)}var Ff=tt(function(t){return nr(Pt(t,1,Ot,!0))}),Pf=tt(function(t){var n=gn(t);return Ot(n)&&(n=i),nr(Pt(t,1,Ot,!0),H(n,2))}),Wf=tt(function(t){var n=typeof(n=gn(t))=="function"?n:i;return nr(Pt(t,1,Ot,!0),i,n)});function Ii(t){if(!t||!t.length)return[];var n=0;return t=Gn(t,function(r){return Ot(r)&&(n=At(r.length,n),1)}),No(n,function(r){return wt(t,Wo(r))})}function Ua(t,n){return!t||!t.length?[]:(t=Ii(t),n==null?t:wt(t,function(r){return un(n,i,r)}))}var Hf=tt(function(t,n){return Ot(t)?he(t,n):[]}),Uf=tt(function(t){return si(Gn(t,Ot))}),Nf=tt(function(t){var n=gn(t);return Ot(n)&&(n=i),si(Gn(t,Ot),H(n,2))}),$f=tt(function(t){var n=typeof(n=gn(t))=="function"?n:i;return si(Gn(t,Ot),i,n)}),Vf=tt(Ii),qf=tt(function(t){var n=t.length,n=typeof(n=1<n?t[n-1]:i)=="function"?(t.pop(),n):i;return Ua(t,n)});function Na(t){return t=u(t),t.__chain__=!0,t}function co(t,n){return n(t)}var Zf=Xn(function(t){function n(l){return Jo(l,t)}var r=t.length,e=r?t[0]:0,o=this.__wrapped__;return!(1<r||this.__actions__.length)&&o instanceof ot&&Mn(e)?((o=o.slice(e,+e+(r?1:0))).__actions__.push({func:co,args:[n],thisArg:i}),new mn(o,this.__chain__).thru(function(l){return r&&!l.length&&l.push(i),l})):this.thru(n)}),Kf=ro(function(t,n,r){st.call(t,r)?++t[r]:An(t,r,1)}),Gf=ya(Ma),Jf=ya(Fa);function $a(t,n){return(Z(t)?pn:tr)(t,H(n,3))}function Va(t,n){return(Z(t)?Jl:Hu)(t,H(n,3))}var Qf=ro(function(t,n,r){st.call(t,r)?t[r].push(n):An(t,r,[n])}),tc=tt(function(t,n,r){var e=-1,o=typeof n=="function",l=tn(t)?y(t.length):[];return tr(t,function(c){l[++e]=o?un(n,c,r):de(c,n,r)}),l}),nc=ro(function(t,n,r){An(t,r,n)});function so(t,n){return(Z(t)?wt:Ku)(t,H(n,3))}var rc=ro(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),ec=tt(function(t,n){if(t==null)return[];var r=n.length;return 1<r&&Kt(t,n[0],n[1])?n=[]:2<r&&Kt(n[0],n[1],n[2])&&(n=[n[0]]),ta(t,Pt(n,1),[])}),po=Li||function(){return Ft.Date.now()};function qa(t,n,r){return n=r?i:n,n=t&&n==null?t.length:n,Yn(t,U,i,i,i,i,n)}function Za(t,n){var r;if(typeof n!="function")throw new hn(f);return t=G(t),function(){return 0<--t&&(r=n.apply(this,arguments)),t<=1&&(n=i),r}}var Oi=tt(function(t,n,r){var e,o=1;return r.length&&(e=Qn(r,$r(Oi)),o|=R),Yn(t,o,n,r,e)}),Ka=tt(function(t,n,r){var e,o=3;return r.length&&(e=Qn(r,$r(Ka)),o|=R),Yn(n,o,t,r,e)});function Ga(t,n,r){var e,o,l,c,s,d,_=0,w=!1,m=!1,S=!0;if(typeof t!="function")throw new hn(f);function M(z){var P=e,V=o;return e=o=i,_=z,c=t.apply(V,P)}function A(z){var P=z-d;return d===i||n<=P||P<0||m&&l<=z-_}function N(){var z,P=po();if(A(P))return j(P);s=we(N,(z=n-((P=P)-d),m?Ht(z,l-(P-_)):z))}function j(z){return s=i,S&&e?M(z):(e=o=i,c)}function I(){var z=po(),P=A(z);if(e=arguments,o=this,d=z,P){if(s===i)return _=z=d,s=we(N,n),w?M(z):c;if(m)return fa(s),s=we(N,n),M(d)}return s===i&&(s=we(N,n)),c}return n=yn(n)||0,bt(r)&&(w=!!r.leading,m="maxWait"in r,l=m?At(yn(r.maxWait)||0,n):l,S="trailing"in r?!!r.trailing:S),I.cancel=function(){s!==i&&fa(s),_=0,e=d=o=s=i},I.flush=function(){return s===i?c:j(po())},I}var Li=tt(function(t,n){return Wu(t,1,n)}),oc=tt(function(t,n,r){return Wu(t,yn(n)||0,r)});function ho(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new hn(f);function r(){var e=arguments,o=n?n.apply(this,e):e[0],l=r.cache;return l.has(o)?l.get(o):(e=t.apply(this,e),r.cache=l.set(o,e)||l,e)}return r.cache=new(ho.Cache||Bn),r}function vo(t){if(typeof t!="function")throw new hn(f);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ho.Cache=Bn;var Ri=Ri(function(t,n){var r=(n=n.length==1&&Z(n[0])?wt(n[0],an(H())):wt(Pt(n,1),an(H()))).length;return tt(function(e){for(var o=-1,l=Ht(e.length,r);++o<l;)e[o]=n[o].call(this,e[o]);return un(t,this,e)})}),Ti=tt(function(t,n){var r=Qn(n,$r(Ti));return Yn(t,R,i,n,r)}),Ja=tt(function(t,n){var r=Qn(n,$r(Ja));return Yn(t,k,i,n,r)}),ic=Xn(function(t,n){return Yn(t,vt,i,i,i,n)});function Cn(t,n){return t===n||t!=t&&n!=n}var uc=uo(ni),ac=uo(function(t,n){return n<=t}),Sr=Vu(function(){return arguments}())?Vu:function(t){return Et(t)&&st.call(t,"callee")&&!zu.call(t,"callee")},Z=y.isArray,lc=du?an(du):function(t){return Et(t)&&Zt(t)==rt};function tn(t){return t!=null&&go(t.length)&&!Fn(t)}function Ot(t){return Et(t)&&tn(t)}var or=_n||Hi,_n=vu?an(vu):function(t){return Et(t)&&Zt(t)==yt};function zi(t){if(!Et(t))return!1;var n=Zt(t);return n==zt||n=="[object DOMException]"||typeof t.message=="string"&&typeof t.name=="string"&&!xe(t)}function Fn(t){return bt(t)?(t=Zt(t),t==jt||t==Ln||t=="[object AsyncFunction]"||t=="[object Proxy]"):!1}function Qa(t){return typeof t=="number"&&t==G(t)}function go(t){return typeof t=="number"&&-1<t&&t%1==0&&t<=Dt}function bt(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function Et(t){return t!=null&&typeof t=="object"}var tl=gu?an(gu):function(t){return Et(t)&&Ut(t)==$t};function nl(t){return typeof t=="number"||Et(t)&&Zt(t)==Nn}function xe(t){return!Et(t)||Zt(t)!=T?!1:(t=He(t),t===null?!0:(t=st.call(t,"constructor")&&t.constructor,typeof t=="function"&&t instanceof t&&Fe.call(t)==ff))}var ji=_u?an(_u):function(t){return Et(t)&&Zt(t)==Y},rl=yu?an(yu):function(t){return Et(t)&&Ut(t)==Bt};function _o(t){return typeof t=="string"||!Z(t)&&Et(t)&&Zt(t)==on}function fn(t){return typeof t=="symbol"||Et(t)&&Zt(t)==Rn}var Vr=wu?an(wu):function(t){return Et(t)&&go(t.length)&&!!_t[Zt(t)]},fc=uo(ii),cc=uo(function(t,n){return t<=n});function el(t){if(!t)return[];if(tn(t))return(_o(t)?xn:Qt)(t);if(ae&&t[ae]){for(var n,r=t[ae](),e=[];!(n=r.next()).done;)e.push(n.value);return e}var o=Ut(t);return(o==$t?Vo:o==Bt?Xe:qr)(t)}function Pn(t){return t?(t=yn(t))===Mt||t===-Mt?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0}function G(n){var n=Pn(n),r=n%1;return n==n?r?n-r:n:0}function ol(t){return t?mr(G(t),0,pt):0}function yn(t){if(typeof t=="number")return t;if(fn(t))return xt;if(typeof(t=bt(t)?bt(n=typeof t.valueOf=="function"?t.valueOf():t)?n+"":n:t)!="string")return t===0?t:+t;t=Su(t);var n=To.test(t);return n||jo.test(t)?Kl(t.slice(2),n?2:8):Ro.test(t)?xt:+t}function il(t){return kn(t,nn(t))}function ct(t){return t==null?"":ln(t)}var sc=Ur(function(t,n){if(ye(n)||tn(n))kn(n,Xt(n),t);else for(var r in n)st.call(n,r)&&pe(t,r,n[r])}),ul=Ur(function(t,n){kn(n,nn(n),t)}),yo=Ur(function(t,n,r,e){kn(n,nn(n),t,e)}),pc=Ur(function(t,n,r,e){kn(n,Xt(n),t,e)}),hc=Xn(Jo),dc=tt(function(t,n){t=J(t);var r=-1,e=n.length,o=2<e?n[2]:i;for(o&&Kt(n[0],n[1],o)&&(e=1);++r<e;)for(var l=n[r],c=nn(l),s=-1,d=c.length;++s<d;){var _=c[s],w=t[_];(w===i||Cn(w,Xr[_])&&!st.call(t,_))&&(t[_]=l[_])}return t}),vc=tt(function(t){return t.push(i,Sa),un(al,i,t)});function Bi(t,n,r){return t=t==null?i:br(t,n),t===i?r:t}function Ai(t,n){return t!=null&&Ia(t,n,Ef)}var gc=xa(function(t,n,r){t[n=n!=null&&typeof n.toString!="function"?Pe.call(n):n]=r},Xi(rn)),_c=xa(function(t,n,r){n!=null&&typeof n.toString!="function"&&(n=Pe.call(n)),st.call(t,n)?t[n].push(r):t[n]=[r]},H),yc=tt(de);function Xt(t){return(tn(t)?Xu:oi)(t)}function nn(t){return tn(t)?Xu(t,!0):If(t)}var wc=Ur(function(t,n,r){Qe(t,n,r)}),al=Ur(function(t,n,r,e){Qe(t,n,r,e)}),xc=Xn(function(t,n){var r={};if(t==null)return r;for(var e=!1,o=(n=wt(n,function(l){return l=rr(l,t),e=e||1<l.length,l}),kn(t,yi(t),r),e&&(r=dn(r,7,Af)),n.length);o--;)ci(r,n[o]);return r}),mc=Xn(function(t,n){return t==null?{}:na(r=t,n,function(e,o){return Ai(r,o)});var r});function ll(t,n){if(t==null)return{};var r=wt(yi(t),function(e){return[e]});return n=H(n),na(t,r,function(e,o){return n(e,o[0])})}var fl=Ca(Xt),cl=Ca(nn);function qr(t){return t==null?[]:$o(t,Xt(t))}var bc=Nr(function(t,n,r){return n=n.toLowerCase(),t+(r?sl(n):n)});function sl(t){return Yi(ct(t).toLowerCase())}function pl(t){return(t=ct(t))&&t.replace(Bo,rf).replace(Wl,"")}var Cc=Nr(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),Dc=Nr(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),Sc=_a("toLowerCase"),kc=Nr(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),Ec=Nr(function(t,n,r){return t+(r?" ":"")+Yi(n)}),Ic=Nr(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),Yi=_a("toUpperCase");function hl(t,n,r){return t=ct(t),(n=r?i:n)===i?(r=t,Nl.test(r)?t.match(Hl)||[]:t.match(Re)||[]):t.match(n)||[]}var dl=tt(function(t,n){try{return un(t,i,n)}catch(r){return zi(r)?r:new F(r)}}),Oc=Xn(function(t,n){return pn(n,function(r){r=En(r),An(t,r,Oi(t[r],t))}),t});function Xi(t){return function(){return t}}var Lc=wa(),Rc=wa(!0);function rn(t){return t}function Mi(t){return Zu(typeof t=="function"?t:dn(t,1))}var Tc=tt(function(t,n){return function(r){return de(r,t,n)}}),zc=tt(function(t,n){return function(r){return de(t,r,n)}});function Fi(t,n,r){var e=Xt(n),o=Je(n,e),l=(r!=null||bt(n)&&(o.length||!e.length)||(r=n,n=t,t=this,o=Je(n,Xt(n))),!(bt(r)&&"chain"in r&&!r.chain)),c=Fn(t);return pn(o,function(s){var d=n[s];t[s]=d,c&&(t.prototype[s]=function(){var _,w=this.__chain__;return l||w?(((_=t(this.__wrapped__)).__actions__=Qt(this.__actions__)).push({func:d,args:arguments,thisArg:t}),_.__chain__=w,_):d.apply(t,Jn([this.value()],arguments))})}),t}function Pi(){}var jc=vi(wt),Bc=vi(xu),Ac=vi(Po);function vl(t){return bi(t)?Wo(En(t)):(n=t,function(r){return br(r,n)});var n}var Yc=ma(),Xc=ma(!0);function Wi(){return[]}function Hi(){return!1}var Mc=oo(function(t,n){return t+n},0),Fc=gi("ceil"),Pc=oo(function(t,n){return t/n},1),Wc=gi("floor"),Ui,Hc=oo(function(t,n){return t*n},1),Uc=gi("round"),Nc=oo(function(t,n){return t-n},0);return u.after=function(t,n){if(typeof n!="function")throw new hn(f);return t=G(t),function(){if(--t<1)return n.apply(this,arguments)}},u.ary=qa,u.assign=sc,u.assignIn=ul,u.assignInWith=yo,u.assignWith=pc,u.at=hc,u.before=Za,u.bind=Oi,u.bindAll=Oc,u.bindKey=Ka,u.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Z(t)?t:[t]},u.chain=Na,u.chunk=function(t,n,r){n=(r?Kt(t,n,r):n===i)?1:At(G(n),0);var e=t==null?0:t.length;if(!e||n<1)return[];for(var o=0,l=0,c=y($e(e/n));o<e;)c[l++]=vn(t,o,o+=n);return c},u.compact=function(t){for(var n=-1,r=t==null?0:t.length,e=0,o=[];++n<r;){var l=t[n];l&&(o[e++]=l)}return o},u.concat=function(){var t=arguments.length;if(!t)return[];for(var n=y(t-1),r=arguments[0],e=t;e--;)n[e-1]=arguments[e];return Jn(Z(r)?Qt(r):[r],Pt(n,1))},u.cond=function(t){var n=t==null?0:t.length,r=H();return t=n?wt(t,function(e){if(typeof e[1]!="function")throw new hn(f);return[r(e[0]),e[1]]}):[],tt(function(e){for(var o=-1;++o<n;){var l=t[o];if(un(l[0],this,e))return un(l[1],this,e)}})},u.conforms=function(t){return n=dn(t,1),r=Xt(n),function(e){return Pu(e,n,r)};var n,r},u.constant=Xi,u.countBy=Kf,u.create=function(t,n){return t=Hr(t),n==null?t:Fu(t,n)},u.curry=function t(n,r,e){return n=Yn(n,8,i,i,i,i,i,r=e?i:r),n.placeholder=t.placeholder,n},u.curryRight=function t(n,r,e){return n=Yn(n,C,i,i,i,i,i,r=e?i:r),n.placeholder=t.placeholder,n},u.debounce=Ga,u.defaults=dc,u.defaultsDeep=vc,u.defer=Li,u.delay=oc,u.difference=Dn,u.differenceBy=fe,u.differenceWith=at,u.drop=function(t,n,r){var e=t==null?0:t.length;return e?vn(t,(n=r||n===i?1:G(n))<0?0:n,e):[]},u.dropRight=function(t,n,r){var e=t==null?0:t.length;return e?vn(t,0,(n=e-(n=r||n===i?1:G(n)))<0?0:n):[]},u.dropRightWhile=function(t,n){return t&&t.length?no(t,H(n,3),!0,!0):[]},u.dropWhile=function(t,n){return t&&t.length?no(t,H(n,3),!0):[]},u.fill=function(t,n,r,e){if(!(d=t==null?0:t.length))return[];r&&typeof r!="number"&&Kt(t,n,r)&&(r=0,e=d);var o=t,l=n,c=r,s=e,d=o.length;for((c=G(c))<0&&(c=d<-c?0:d+c),(s=s===i||d<s?d:G(s))<0&&(s+=d),s=s<c?0:ol(s);c<s;)o[c++]=l;return o},u.filter=function(t,n){return(Z(t)?Gn:Uu)(t,H(n,3))},u.flatMap=function(t,n){return Pt(so(t,n),1)},u.flatMapDeep=function(t,n){return Pt(so(t,n),Mt)},u.flatMapDepth=function(t,n,r){return r=r===i?1:G(r),Pt(so(t,n),r)},u.flatten=Pa,u.flattenDeep=function(t){return t!=null&&t.length?Pt(t,Mt):[]},u.flattenDepth=function(t,n){return t!=null&&t.length?Pt(t,n=n===i?1:G(n)):[]},u.flip=function(t){return Yn(t,512)},u.flow=Lc,u.flowRight=Rc,u.fromPairs=function(t){for(var n=-1,r=t==null?0:t.length,e={};++n<r;){var o=t[n];e[o[0]]=o[1]}return e},u.functions=function(t){return t==null?[]:Je(t,Xt(t))},u.functionsIn=function(t){return t==null?[]:Je(t,nn(t))},u.groupBy=Qf,u.initial=function(t){return t!=null&&t.length?vn(t,0,-1):[]},u.intersection=Mr,u.intersectionBy=qo,u.intersectionWith=Wt,u.invert=gc,u.invertBy=_c,u.invokeMap=tc,u.iteratee=Mi,u.keyBy=nc,u.keys=Xt,u.keysIn=nn,u.map=so,u.mapKeys=function(t,n){var r={};return n=H(n,3),Sn(t,function(e,o,l){An(r,n(e,o,l),e)}),r},u.mapValues=function(t,n){var r={};return n=H(n,3),Sn(t,function(e,o,l){An(r,o,n(e,o,l))}),r},u.matches=function(t){return Gu(dn(t,1))},u.matchesProperty=function(t,n){return Ju(t,dn(n,1))},u.memoize=ho,u.merge=wc,u.mergeWith=al,u.method=Tc,u.methodOf=zc,u.mixin=Fi,u.negate=vo,u.nthArg=function(t){return t=G(t),tt(function(n){return Qu(n,t)})},u.omit=xc,u.omitBy=function(t,n){return ll(t,vo(H(n)))},u.once=function(t){return Za(2,t)},u.orderBy=function(t,n,r,e){return t==null?[]:ta(t,n=Z(n)?n:n==null?[]:[n],r=Z(r=e?i:r)?r:r==null?[]:[r])},u.over=jc,u.overArgs=Ri,u.overEvery=Bc,u.overSome=Ac,u.partial=Ti,u.partialRight=Ja,u.partition=rc,u.pick=mc,u.pickBy=ll,u.property=vl,u.propertyOf=function(t){return function(n){return t==null?i:br(t,n)}},u.pull=Fr,u.pullAll=Ha,u.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?ui(t,n,H(r,2)):t},u.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?ui(t,n,i,r):t},u.pullAt=Mf,u.range=Yc,u.rangeRight=Xc,u.rearg=ic,u.reject=function(t,n){return(Z(t)?Gn:Uu)(t,vo(H(n,3)))},u.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,o=[],l=t.length;for(n=H(n,3);++e<l;){var c=t[e];n(c,e,t)&&(r.push(c),o.push(e))}return ra(t,o),r},u.rest=function(t,n){if(typeof t!="function")throw new hn(f);return tt(t,n=n===i?n:G(n))},u.reverse=Ei,u.sampleSize=function(t,n,r){return n=(r?Kt(t,n,r):n===i)?1:G(n),(Z(t)?bf:Lf)(t,n)},u.set=function(t,n,r){return t==null?t:ge(t,n,r)},u.setWith=function(t,n,r,e){return e=typeof e=="function"?e:i,t==null?t:ge(t,n,r,e)},u.shuffle=function(t){return(Z(t)?Cf:Rf)(t)},u.slice=function(t,n,r){var e=t==null?0:t.length;return e?(r=r&&typeof r!="number"&&Kt(t,n,r)?(n=0,e):(n=n==null?0:G(n),r===i?e:G(r)),vn(t,n,r)):[]},u.sortBy=ec,u.sortedUniq=function(t){return t&&t.length?oa(t):[]},u.sortedUniqBy=function(t,n){return t&&t.length?oa(t,H(n,2)):[]},u.split=function(t,n,r){return r&&typeof r!="number"&&Kt(t,n,r)&&(n=r=i),(r=r===i?pt:r>>>0)?(t=ct(t))&&(typeof n=="string"||n!=null&&!ji(n))&&!(n=ln(n))&&Br(t)?er(xn(t),0,r):t.split(n,r):[]},u.spread=function(t,n){if(typeof t!="function")throw new hn(f);return n=n==null?0:At(G(n),0),tt(function(o){var e=o[n],o=er(o,0,n);return e&&Jn(o,e),un(t,this,o)})},u.tail=function(t){var n=t==null?0:t.length;return n?vn(t,1,n):[]},u.take=function(t,n,r){return t&&t.length?vn(t,0,(n=r||n===i?1:G(n))<0?0:n):[]},u.takeRight=function(t,n,r){var e=t==null?0:t.length;return e?vn(t,(n=e-(n=r||n===i?1:G(n)))<0?0:n,e):[]},u.takeRightWhile=function(t,n){return t&&t.length?no(t,H(n,3),!1,!0):[]},u.takeWhile=function(t,n){return t&&t.length?no(t,H(n,3)):[]},u.tap=function(t,n){return n(t),t},u.throttle=function(t,n,r){var e=!0,o=!0;if(typeof t!="function")throw new hn(f);return bt(r)&&(e="leading"in r?!!r.leading:e,o="trailing"in r?!!r.trailing:o),Ga(t,n,{leading:e,maxWait:n,trailing:o})},u.thru=co,u.toArray=el,u.toPairs=fl,u.toPairsIn=cl,u.toPath=function(t){return Z(t)?wt(t,En):fn(t)?[t]:Qt(Ya(ct(t)))},u.toPlainObject=il,u.transform=function(t,n,r){var e,o=Z(t),l=o||or(t)||Vr(t);return n=H(n,4),r==null&&(e=t&&t.constructor,r=l?o?new e:[]:bt(t)&&Fn(e)?Hr(He(t)):{}),(l?pn:Sn)(t,function(c,s,d){return n(r,c,s,d)}),r},u.unary=function(t){return qa(t,1)},u.union=Ff,u.unionBy=Pf,u.unionWith=Wf,u.uniq=function(t){return t&&t.length?nr(t):[]},u.uniqBy=function(t,n){return t&&t.length?nr(t,H(n,2)):[]},u.uniqWith=function(t,n){return n=typeof n=="function"?n:i,t&&t.length?nr(t,i,n):[]},u.unset=function(t,n){return t==null||ci(t,n)},u.unzip=Ii,u.unzipWith=Ua,u.update=function(t,n,r){return t==null?t:ua(t,n,hi(r))},u.updateWith=function(t,n,r,e){return e=typeof e=="function"?e:i,t==null?t:ua(t,n,hi(r),e)},u.values=qr,u.valuesIn=function(t){return t==null?[]:$o(t,nn(t))},u.without=Hf,u.words=hl,u.wrap=function(t,n){return Ti(hi(n),t)},u.xor=Uf,u.xorBy=Nf,u.xorWith=$f,u.zip=Vf,u.zipObject=function(t,n){return la(t||[],n||[],pe)},u.zipObjectDeep=function(t,n){return la(t||[],n||[],ge)},u.zipWith=qf,u.entries=fl,u.entriesIn=cl,u.extend=ul,u.extendWith=yo,Fi(u,u),u.add=Mc,u.attempt=dl,u.camelCase=bc,u.capitalize=sl,u.ceil=Fc,u.clamp=function(t,n,r){return r===i&&(r=n,n=i),r!==i&&(r=(r=yn(r))==r?r:0),n!==i&&(n=(n=yn(n))==n?n:0),mr(yn(t),n,r)},u.clone=function(t){return dn(t,4)},u.cloneDeep=function(t){return dn(t,5)},u.cloneDeepWith=function(t,n){return dn(t,5,n=typeof n=="function"?n:i)},u.cloneWith=function(t,n){return dn(t,4,n=typeof n=="function"?n:i)},u.conformsTo=function(t,n){return n==null||Pu(t,n,Xt(n))},u.deburr=pl,u.defaultTo=function(t,n){return t==null||t!=t?n:t},u.divide=Pc,u.endsWith=function(t,n,r){t=ct(t),n=ln(n);var e=t.length,e=r=r===i?e:mr(G(r),0,e);return 0<=(r-=n.length)&&t.slice(r,e)==n},u.eq=Cn,u.escape=function(t){return(t=ct(t))&&hr.test(t)?t.replace(te,ef):t},u.escapeRegExp=function(t){return(t=ct(t))&&dr.test(t)?t.replace(Lr,"\\$&"):t},u.every=function(t,n,r){return(Z(t)?xu:Sf)(t,H(n=r&&Kt(t,n,r)?i:n,3))},u.find=Gf,u.findIndex=Ma,u.findKey=function(t,n){return mu(t,H(n,3),Sn)},u.findLast=Jf,u.findLastIndex=Fa,u.findLastKey=function(t,n){return mu(t,H(n,3),ti)},u.floor=Wc,u.forEach=$a,u.forEachRight=Va,u.forIn=function(t,n){return t==null?t:Qo(t,H(n,3),nn)},u.forInRight=function(t,n){return t==null?t:Nu(t,H(n,3),nn)},u.forOwn=function(t,n){return t&&Sn(t,H(n,3))},u.forOwnRight=function(t,n){return t&&ti(t,H(n,3))},u.get=Bi,u.gt=uc,u.gte=ac,u.has=function(t,n){return t!=null&&Ia(t,n,kf)},u.hasIn=Ai,u.head=Wa,u.identity=rn,u.includes=function(t,n,r,e){return t=tn(t)?t:qr(t),r=r&&!e?G(r):0,e=t.length,r<0&&(r=At(e+r,0)),_o(t)?r<=e&&-1<t.indexOf(n,r):!!e&&-1<jr(t,n,r)},u.indexOf=function(t,n,r){var e=t==null?0:t.length;return e?(r=r==null?0:G(r),jr(t,n,r=r<0?At(e+r,0):r)):-1},u.inRange=function(t,n,r){return n=Pn(n),r===i?(r=n,n=0):r=Pn(r),(t=t=yn(t))>=Ht(n=n,r=r)&&t<At(n,r)},u.invoke=yc,u.isArguments=Sr,u.isArray=Z,u.isArrayBuffer=lc,u.isArrayLike=tn,u.isArrayLikeObject=Ot,u.isBoolean=function(t){return t===!0||t===!1||Et(t)&&Zt(t)==ut},u.isBuffer=or,u.isDate=_n,u.isElement=function(t){return Et(t)&&t.nodeType===1&&!xe(t)},u.isEmpty=function(t){if(t==null)return!0;if(tn(t)&&(Z(t)||typeof t=="string"||typeof t.splice=="function"||or(t)||Vr(t)||Sr(t)))return!t.length;var n,r=Ut(t);if(r==$t||r==Bt)return!t.size;if(ye(t))return!oi(t).length;for(n in t)if(st.call(t,n))return!1;return!0},u.isEqual=function(t,n){return ve(t,n)},u.isEqualWith=function(t,n,r){var e=(r=typeof r=="function"?r:i)?r(t,n):i;return e===i?ve(t,n,i,r):!!e},u.isError=zi,u.isFinite=function(t){return typeof t=="number"&&Bu(t)},u.isFunction=Fn,u.isInteger=Qa,u.isLength=go,u.isMap=tl,u.isMatch=function(t,n){return t===n||ei(t,n,xi(n))},u.isMatchWith=function(t,n,r){return r=typeof r=="function"?r:i,ei(t,n,xi(n),r)},u.isNaN=function(t){return nl(t)&&t!=+t},u.isNative=function(t){if(Xf(t))throw new F("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(t)},u.isNil=function(t){return t==null},u.isNull=function(t){return t===null},u.isNumber=nl,u.isObject=bt,u.isObjectLike=Et,u.isPlainObject=xe,u.isRegExp=ji,u.isSafeInteger=function(t){return Qa(t)&&-Dt<=t&&t<=Dt},u.isSet=rl,u.isString=_o,u.isSymbol=fn,u.isTypedArray=Vr,u.isUndefined=function(t){return t===i},u.isWeakMap=function(t){return Et(t)&&Ut(t)==St},u.isWeakSet=function(t){return Et(t)&&Zt(t)=="[object WeakSet]"},u.join=function(t,n){return t==null?"":pf.call(t,n)},u.kebabCase=Cc,u.last=gn,u.lastIndexOf=function(t,n,r){var e=t==null?0:t.length;if(!e)return-1;var o=e;if(r!==i&&(o=(o=G(r))<0?At(e+o,0):Ht(o,e-1)),n!=n)return Ye(t,bu,o,!0);for(var l=t,c=n,s=o+1;s--;)if(l[s]===c)return s;return s},u.lowerCase=Dc,u.lowerFirst=Sc,u.lt=fc,u.lte=cc,u.max=function(t){return t&&t.length?Ge(t,rn,ni):i},u.maxBy=function(t,n){return t&&t.length?Ge(t,H(n,2),ni):i},u.mean=function(t){return Cu(t,rn)},u.meanBy=function(t,n){return Cu(t,H(n,2))},u.min=function(t){return t&&t.length?Ge(t,rn,ii):i},u.minBy=function(t,n){return t&&t.length?Ge(t,H(n,2),ii):i},u.stubArray=Wi,u.stubFalse=Hi,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=Hc,u.nth=function(t,n){return t&&t.length?Qu(t,G(n)):i},u.noConflict=function(){return Ft._===this&&(Ft._=cf),this},u.noop=Pi,u.now=po,u.pad=function(t,n,r){t=ct(t);var e=(n=G(n))?Ar(t):0;return!n||n<=e?t:io(Ve(n=(n-e)/2),r)+t+io($e(n),r)},u.padEnd=function(t,n,r){t=ct(t);var e=(n=G(n))?Ar(t):0;return n&&e<n?t+io(n-e,r):t},u.padStart=function(t,n,r){t=ct(t);var e=(n=G(n))?Ar(t):0;return n&&e<n?io(n-e,r)+t:t},u.parseInt=function(t,n,r){return n=r||n==null?0:n&&+n,vf(ct(t).replace(Vn,""),n||0)},u.random=function(t,n,r){var e;return r&&typeof r!="boolean"&&Kt(t,n,r)&&(n=r=i),r===i&&(typeof n=="boolean"?(r=n,n=i):typeof t=="boolean"&&(r=t,t=i)),t===i&&n===i?(t=0,n=1):(t=Pn(t),n===i?(n=t,t=0):n=Pn(n)),n<t&&(e=t,t=n,n=e),r||t%1||n%1?(e=Au(),Ht(t+e*(n-t+Zl("1e-"+((e+"").length-1))),n)):ai(t,n)},u.reduce=function(t,n,r){var e=Z(t)?Fo:Du,o=arguments.length<3;return e(t,H(n,4),r,o,tr)},u.reduceRight=function(t,n,r){var e=Z(t)?Ql:Du,o=arguments.length<3;return e(t,H(n,4),r,o,Hu)},u.repeat=function(t,n,r){return n=(r?Kt(t,n,r):n===i)?1:G(n),li(ct(t),n)},u.replace=function(){var t=arguments,n=ct(t[0]);return t.length<3?n:n.replace(t[1],t[2])},u.result=function(t,n,r){var e=-1,o=(n=rr(n,t)).length;for(o||(o=1,t=i);++e<o;){var l=t==null?i:t[En(n[e])];l===i&&(e=o,l=r),t=Fn(l)?l.call(t):l}return t},u.round=Uc,u.runInContext=g,u.sample=function(t){return(Z(t)?Mu:Of)(t)},u.size=function(t){if(t==null)return 0;if(tn(t))return _o(t)?Ar(t):t.length;var n=Ut(t);return n==$t||n==Bt?t.size:oi(t).length},u.snakeCase=kc,u.some=function(t,n,r){return(Z(t)?Po:Tf)(t,H(n=r&&Kt(t,n,r)?i:n,3))},u.sortedIndex=function(t,n){return to(t,n)},u.sortedIndexBy=function(t,n,r){return fi(t,n,H(r,2))},u.sortedIndexOf=function(t,n){var r=t==null?0:t.length;if(r){var e=to(t,n);if(e<r&&Cn(t[e],n))return e}return-1},u.sortedLastIndex=function(t,n){return to(t,n,!0)},u.sortedLastIndexBy=function(t,n,r){return fi(t,n,H(r,2),!0)},u.sortedLastIndexOf=function(t,n){if(t!=null&&t.length){var r=to(t,n,!0)-1;if(Cn(t[r],n))return r}return-1},u.startCase=Ec,u.startsWith=function(t,n,r){return t=ct(t),r=r==null?0:mr(G(r),0,t.length),n=ln(n),t.slice(r,r+n.length)==n},u.subtract=Nc,u.sum=function(t){return t&&t.length?Uo(t,rn):0},u.sumBy=function(t,n){return t&&t.length?Uo(t,H(n,2)):0},u.template=function(t,n,w){var e,o,d=u.templateSettings;w&&Kt(t,n,w)&&(n=i),t=ct(t),n=yo({},n,d,Da);var l=Xt(w=yo({},n.imports,d.imports,Da)),c=$o(w,l),s=0,d=n.interpolate||Tr,_="__p += '",w=ue((n.escape||Tr).source+"|"+d.source+"|"+(d===Yt?Lo:Tr).source+"|"+(n.evaluate||Tr).source+"|$","g"),m="//# sourceURL="+(st.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vl+"]")+`
`;if(t.replace(w,function(S,M,A,N,j,I){return A=A||N,_+=t.slice(s,I).replace(h,of),M&&(e=!0,_+=`' +
__e(`+M+`) +
'`),j&&(o=!0,_+=`';
`+j+`;
__p += '`),A&&(_+=`' +
((__t = (`+A+`)) == null ? '' : __t) +
'`),s=I+S.length,S}),_+=`';
`,d=st.call(n,"variable")&&n.variable){if(Te.test(d))throw new F("Invalid `variable` option passed into `_.template`")}else _=`with (obj) {
`+_+`
}
`;if(_=(o?_.replace(W,""):_).replace(qt,"$1").replace(pr,"$1;"),_="function("+(d||"obj")+`) {
`+(d?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(e?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`,(w=dl(function(){return q(l,m+"return "+_).apply(i,c)})).source=_,zi(w))throw w;return w},u.times=function(t,n){if((t=G(t))<1||Dt<t)return[];for(var r=pt,e=Ht(t,pt),e=(n=H(n),t-=pt,No(e,n));++r<t;)n(r);return e},u.toFinite=Pn,u.toInteger=G,u.toLength=ol,u.toLower=function(t){return ct(t).toLowerCase()},u.toNumber=yn,u.toSafeInteger=function(t){return t?mr(G(t),-Dt,Dt):t===0?t:0},u.toString=ct,u.toUpper=function(t){return ct(t).toUpperCase()},u.trim=function(t,n,r){return(t=ct(t))&&(r||n===i)?Su(t):t&&(n=ln(n))?(r=xn(t),t=xn(n),er(r,ku(r,t),Eu(r,t)+1).join("")):t},u.trimEnd=function(t,n,r){return(t=ct(t))&&(r||n===i)?t.slice(0,Ou(t)+1):t&&(n=ln(n))?er(r=xn(t),0,Eu(r,xn(n))+1).join(""):t},u.trimStart=function(t,n,r){return(t=ct(t))&&(r||n===i)?t.replace(Vn,""):t&&(n=ln(n))?er(r=xn(t),ku(r,xn(n))).join(""):t},u.truncate=function(t,o){var r,c=30,e="...",o=(bt(o)&&(r="separator"in o?o.separator:r,c="length"in o?G(o.length):c,e="omission"in o?ln(o.omission):e),(t=ct(t)).length);if((o=Br(t)?(l=xn(t)).length:o)<=c)return t;if((o=c-Ar(e))<1)return e;var l,c=l?er(l,0,o).join(""):t.slice(0,o);if(r===i)return c+e;if(l&&(o+=c.length-o),ji(r)){if(t.slice(o).search(r)){var s,d=c;for((r=r.global?r:ue(r.source,ct(re.exec(r))+"g")).lastIndex=0;s=r.exec(d);)var _=s.index;c=c.slice(0,_===i?o:_)}}else t.indexOf(ln(r),o)==o||-1<(l=c.lastIndexOf(r))&&(c=c.slice(0,l));return c+e},u.unescape=function(t){return(t=ct(t))&&Ee.test(t)?t.replace(sn,uf):t},u.uniqueId=function(t){var n=++lf;return ct(t)+n},u.upperCase=Ic,u.upperFirst=Yi,u.each=$a,u.eachRight=Va,u.first=Wa,Fi(u,(Ui={},Sn(u,function(t,n){st.call(u.prototype,n)||(Ui[n]=t)}),Ui),{chain:!1}),u.VERSION="4.17.21",pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){u[t].placeholder=u}),pn(["drop","take"],function(t,n){ot.prototype[t]=function(r){r=r===i?1:At(G(r),0);var e=this.__filtered__&&!n?new ot(this):this.clone();return e.__filtered__?e.__takeCount__=Ht(r,e.__takeCount__):e.__views__.push({size:Ht(r,pt),type:t+(e.__dir__<0?"Right":"")}),e},ot.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),pn(["filter","map","takeWhile"],function(t,n){var r=n+1,e=r==1||r==3;ot.prototype[t]=function(o){var l=this.clone();return l.__iteratees__.push({iteratee:H(o,3),type:r}),l.__filtered__=l.__filtered__||e,l}}),pn(["head","last"],function(t,n){var r="take"+(n?"Right":"");ot.prototype[t]=function(){return this[r](1).value()[0]}}),pn(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");ot.prototype[t]=function(){return this.__filtered__?new ot(this):this[r](1)}}),ot.prototype.compact=function(){return this.filter(rn)},ot.prototype.find=function(t){return this.filter(t).head()},ot.prototype.findLast=function(t){return this.reverse().find(t)},ot.prototype.invokeMap=tt(function(t,n){return typeof t=="function"?new ot(this):this.map(function(r){return de(r,t,n)})}),ot.prototype.reject=function(t){return this.filter(vo(H(t)))},ot.prototype.slice=function(t,n){t=G(t);var r=this;return r.__filtered__&&(0<t||n<0)?new ot(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==i?(n=G(n))<0?r.dropRight(-n):r.take(n-t):r)},ot.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ot.prototype.toArray=function(){return this.take(pt)},Sn(ot.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),o=u[e?"take"+(n=="last"?"Right":""):n],l=e||/^find/.test(n);o&&(u.prototype[n]=function(){function c(N){return N=o.apply(u,Jn([N],_)),e&&m?N[0]:N}var s,d=this.__wrapped__,_=e?[1]:arguments,A=d instanceof ot,S=_[0],w=A||Z(d),m=(w&&r&&typeof S=="function"&&S.length!=1&&(A=w=!1),this.__chain__),S=!!this.__actions__.length,M=l&&!m,A=A&&!S;return!l&&w?(d=A?d:new ot(this),(s=t.apply(d,_)).__actions__.push({func:co,args:[c],thisArg:i}),new mn(s,m)):M&&A?t.apply(this,_):(s=this.thru(c),M?e?s.value()[0]:s.value():s)})}),pn(["pop","push","shift","sort","splice","unshift"],function(t){var n=Me[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);u.prototype[t]=function(){var o,l=arguments;return e&&!this.__chain__?(o=this.value(),n.apply(Z(o)?o:[],l)):this[r](function(c){return n.apply(Z(c)?c:[],l)})}}),Sn(ot.prototype,function(t,n){var r,e=u[n];e&&(r=e.name+"",st.call(Wr,r)||(Wr[r]=[]),Wr[r].push({name:n,func:e}))}),Wr[eo(i,2).name]=[{name:"wrapper",func:i}],ot.prototype.clone=function(){var t=new ot(this.__wrapped__);return t.__actions__=Qt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Qt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Qt(this.__views__),t},ot.prototype.reverse=function(){var t;return this.__filtered__?((t=new ot(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},ot.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,r=Z(t),e=n<0,o=r?t.length:0,l=function(z,P,V){for(var it=-1,Ct=V.length;++it<Ct;){var en=V[it],Lt=en.size;switch(en.type){case"drop":z+=Lt;break;case"dropRight":P-=Lt;break;case"take":P=Ht(P,z+Lt);break;case"takeRight":z=At(z,P-Lt)}}return{start:z,end:P}}(0,o,this.__views__),c=l.start,s=(l=l.end)-c,d=e?l:c-1,_=this.__iteratees__,w=_.length,m=0,S=Ht(s,this.__takeCount__);if(!r||!e&&o==s&&S==s)return aa(t,this.__actions__);var M=[];t:for(;s--&&m<S;){for(var A=-1,N=t[d+=n];++A<w;){var j=_[A],I=j.iteratee,j=j.type,I=I(N);if(j==2)N=I;else if(!I){if(j==1)continue t;break t}}M[m++]=N}return M},u.prototype.at=Zf,u.prototype.chain=function(){return Na(this)},u.prototype.commit=function(){return new mn(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===i&&(this.__values__=el(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},u.prototype.plant=function(t){for(var n,o=this;o instanceof Ze;)var r=Xa(o),e=(r.__index__=0,r.__values__=i,n?e.__wrapped__=r:n=r,r),o=o.__wrapped__;return e.__wrapped__=t,n},u.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof ot?(t=t,(t=(t=this.__actions__.length?new ot(this):t).reverse()).__actions__.push({func:co,args:[Ei],thisArg:i}),new mn(t,this.__chain__)):this.thru(Ei)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return aa(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,ae&&(u.prototype[ae]=function(){return this}),u}();_r?((_r.exports=Yr)._=Yr,gr._=Yr):Ft._=Yr}).call(me)})(K,K.exports);const lr=1e5,cr=window.devicePixelRatio||1,Gr={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}},dotConfig:{lineDash:[],lineWidth:2,strokeStyle:"transparent",hoverFillStyle:"#69B1FF",fillStyle:"#24FF6E",radius:50}},be={width:0,height:0},wn={x:void 0,y:void 0};function kr(a){a.clearRect(-lr/2,-lr/2,lr,lr)}function bl(a,p){let i=new Image;return p&&(i.crossOrigin="anonymous"),i.src=a,new Promise((f,x)=>{i.complete?f(i):(i.onload=function(){f(i)},i.onerror=function(){x("图片加载失败:"+i.src)})})}function Qr(a,p,i,f,x,b){a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(p,i,f,x,b)}function jl(a,p){a.fillStyle=p.layerConfig.fillStyle,a.fillRect(-lr/2,-lr/2,lr,lr)}function Bl(a,p,i,f,x){a.clearRect(p,i,f,x)}function Al(a,p,i,f,x,b,C){b=K.exports.cloneDeep(b.cropConfig),C&&C.cropConfig&&Object.assign(b,C.cropConfig),a.setLineDash(b.lineDash),a.strokeStyle=b.strokeStyle,a.lineWidth=b.lineWidth,a.strokeRect(p,i,f,x)}function Cl(a){return a=a.getClientRects()[0],a?{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}:void 0}function So(a,p){a.canvas.width=p.width,a.canvas.height=p.height}function us(f,p){var i=f.width/p.width,f=f.height/p.height;return{scale:i<f?i:f,fit:i<f?"height":"width"}}function as(a){let p=Object.prototype.toString.call(a);return p.slice(8,p.length-1)}function In(a,p=["width","height"],i=!1){try{var f=as(a);let x=i?1/cr:cr;if(f==="Number")return a*x;p.forEach(b=>{a[b]*=x})}catch{}return a}function Dl(a){return Array.from(a.touches||[]).map(p=>In({clientX:p.clientX,clientY:p.clientY},["clientX","clientY"]))}function Yl(a,p,i,f,x,b,C){C||(kr(a),jl(a,b)),Bl(a,p,i,f,x),Al(a,p,i,f,x,b)}function Ki(a,p,i,f){let x,b;p.forEach((C,R)=>{a&&(x=p[R-1]||C,b=C,a.beginPath(),a.lineJoin="round",a.lineCap="round",a.lineWidth=C.lineWidth||f.daubConfig.lineWidth,a.strokeStyle=C.strokeStyle||f.daubConfig.strokeStyle,a.moveTo(x._x||x.x,x._y||x.y),a.lineTo(b._x||b.x,b._y||b.y),a.stroke())})}function fr(a,p,i,f,x,b){b||(kr(a),jl(a,f)),p.forEach(C=>{var R;let k=Un(C,C.__scale,i),U=(x&&(k[0]+=x.offsetX,k[1]+=x.offsetY),Bl(a,...k),Al(a,...k,f,C),K.exports.cloneDeep(f.cropConfig));C&&C.cropConfig&&Object.assign(U,C.cropConfig),(R=U.customDraw)==null||R.call(U,a,{target:C,positions:k})})}function Ce(a,p,i=1,f={x:0,y:0}){let x=[],b=[];return p.map(R=>ls(R,i,f)).forEach((R,k)=>{fs(a,R)&&(x.push(p[k]),b.push(k))}),{boxList:x,indexList:b}}function ls(a,p,i){let f=K.exports.cloneDeep(a);return f.startX=f.startX*p+i.x,f.endX=f.endX*p+i.x,f.startY=f.startY*p+i.y,f.endY=f.endY*p+i.y,f}function fs(a,p){return a.x>=p.startX&&a.x<=p.endX&&a.y>=p.startY&&a.y<=p.endY}function Io(a,p){let i=p[0],f=p[0]+p[2],x=p[1],b=p[1]+p[3];return a.x>=i&&a.x<=f&&a.y>=x&&a.y<=b}function uu(a,p){var i=Math.abs(p.x-a.x),f=Math.abs(p.y-a.y);return[Math.min(a.x,p.x),Math.min(a.y,p.y),i,f]}function On(C){let p=C;var{startX:C,startY:R,endX:i,endY:f}=p,x=Math.abs(C-i),b=Math.abs(R-f),C=Math.min(C,i),R=Math.min(R,f);return p.startX=C,p.startY=R,p.endX=C+x,p.endY=R+b,{info:p,position:[C,R,x,b]}}function De(i,f){var i=On(i),f=On(f),x=Math.min(i.info.startY,f.info.startY),b=Math.max(i.info.endY,f.info.endY);let C;Math.abs(b-x)<i.position[3]+f.position[3]&&(C={startY:Math.max(i.info.startY,f.info.startY),endY:Math.min(i.info.endY,f.info.endY)}),b=Math.min(i.info.startX,f.info.startX),x=Math.max(i.info.endX,f.info.endX),x=Math.abs(x-b),b=i.position[2]+f.position[2];let R;if((R=x<b?{startX:Math.max(i.info.startX,f.info.startX),endX:Math.min(i.info.endX,f.info.endX)}:R)!==void 0&&C!==void 0)return Object.assign(C,R)}function cs(a,p=1,i={x:0,y:0},f,x){return[a.x*p+i.x+((x==null?void 0:x.offsetX)||0),a.y*p+i.y+((x==null?void 0:x.offsetY)||0),f*p,0,2*Math.PI]}function Un(C,p=1,i={x:0,y:0}){var C=On(C),{startX:f,startY:x}=C.info,b=C.position[2],C=C.position[3];return[f*p+i.x,x*p+i.y,b*p,C*p]}function Gi(a){return a=Un(a),5<=a[2]&&5<=a[3]}function au(a,p,i,f,x,b,C,R,k,U,vt,Mt,Dt){let xt=K.exports.cloneDeep(b.tagConfig);if(Mt&&Object.assign(xt,Mt),a.font=xt.fontSize+"px sans-serif",R||k){if(!k||R&&R.type==="move"||(a.fillStyle=xt.fillStyle,a.fillRect(p,i,f,x),C&&xt.showText&&(b=parseFloat(a.font.split(" ")[0]),a.fillStyle=xt.textFillStyle,a.fillText(vt||C+"",p+4,i+x/2+b/2))),U&&(a.strokeStyle=xt.highlightStrokeStyle,a.lineWidth=xt.highlightLineWidth,a.setLineDash(xt.highlightLineDash),a.strokeRect(p,i,f,x)),R&&Io(R,[p,i,f,x])){if(R.type==="click")return{isShow:k=!k,isCrash:!0};R.type!=="move"||k||(a.strokeStyle=xt.hoverStrokeStyle,a.lineWidth=xt.hoverLineWidth,a.setLineDash(xt.hoverLineDash),a.strokeRect(p,i,f,x))}xt.customDraw(a,{target:Dt,positions:[p,i,f,x]})}}function Hn(a,p,i,f,x={offsetX:0,offsetY:0},b){let C=!1,R=[];return p.forEach(k=>{let U=Un(k,k.__scale,i);U[0]+=x.offsetX,U[1]+=x.offsetY;var vt=au(a,...U,f,(k.__index||0)+1,b,k.isShow,k.showOutLine,k.labelText,k.tagConfig,k);vt!==void 0&&(k.isShow=vt.isShow,vt.isCrash&&(C=!0,R.push(k)))}),{isReDraw:C,redrawList:R}}function Xl(a,p,i){return i=Eo({x:a[0],y:a[1]},p,i),a[0]=i.x,a[1]=i.y,a[2]/=p/cr,a[3]/=p/cr,a}function ss(a,p,i,f,x,b,C,R){if(p.x!==void 0&&i.x!==void 0){let k=Xl(uu(p,i),f,x);if(k[2]=In(k[2],void 0,!0),k[3]=In(k[3],void 0,!0),5<k[2]||5<k[3])return fr(a,b,C,R),Yl(a,...k,R,!0),k}}function ko(a,p,i,f,x,b){p.forEach(k=>{a.beginPath();var R=K.exports.cloneDeep(f.dotConfig),k=(k.dotConfig&&Object.assign(R,k.dotConfig),a.fillStyle=k.__isHover?R.hoverFillStyle:R.fillStyle,a.strokeStyle=R.strokeStyle,a.lineWidth=R.lineWidth,a.setLineDash(R.lineDash),cs(k,k.__scale,i,R.radius,x));a.arc(...k),a.fill(),a.stroke()})}function Sl(a,p){return(a.x<=p.x?"left":"right")+"-"+(a.y<=p.y?"top":"bottom")}function ps(a,p){return p=p.split("-"),{x:p[0]==="left"?a.startX:a.endX,y:p[1]==="top"?a.startY:a.endY}}function hs(a,p,i,f,x,b,C,R){if(p.x!==void 0&&i.x!==void 0){let k=Xl(uu(p,i),f,x);if(k[2]=In(k[2],void 0,!0),k[3]=In(k[3],void 0,!0),5<k[2]||5<k[3])return Hn(a,b,C,R),au(a,...k,R,b.length+1,void 0,!0,void 0,R.drawingText,void 0,void 0),k}}function Ml(a,b,i){var f=uu(a,b),x=(b.x-a.x)/i,b=(b.y-a.y)/i;let C=!1;return{isStartMove:C=5<f[2]||5<f[3]?!0:C,offsetInfo:{offsetX:x,offsetY:b}}}function ds(a,p,i,f,x,b,C,R,k,U,vt,Mt,Dt){if(C.x!==void 0&&R.x!==void 0&&(C=Ml(C,R,U),C.isStartMove))return{offsetX:R,offsetY:U}=C.offsetInfo,kr(a),Qr(a,i,(a={x:b.x+R,y:b.y+U}).x,a.y,f.width*x,f.height*x),fr(p,k,b,Dt,C.offsetInfo),Hn(p,vt,b,Dt,{offsetX:R,offsetY:U}),ko(p,Mt,b,Dt,C.offsetInfo),{offsetX:R,offsetY:U}}function Eo(a,p,i){return{x:a.x/p+i.x,y:a.y/p+i.y}}function Se(a,p,i,f){return a=Eo({x:a.layerX,y:a.layerY},p,i),{x:a.x,y:a.y,type:f}}function vs(a,p,i,f,x,b,C,R,k,U,vt){if(p==="tag"&&!k){let Mt=i.filter(lt=>!lt.isShow),Dt=!1,xt=Se(C,f,b,"move"),pt=[];Mt.forEach(lt=>{var X=Un(lt,lt.__scale,x);Io(xt,X)&&(pt.push(lt),Dt=!0)}),Dt?(U=!0,Hn(a,pt,x,vt,void 0,xt)):U&&(fr(a,R,x,vt),Hn(a,i,x,vt),U=!1)}return U}function Fl(a,p,i=-1,f){return a=Un(a,a.__scale,p),p=f??(D.mobile()?6*cr:6),f=p/2,[{index:i,name:"left-top",type:"vertex",positions:[a[0]-f,a[1]-f,p,p]},{index:i,name:"right-top",type:"vertex",positions:[a[0]+a[2]-f,a[1]-f,p,p]},{index:i,name:"left-bottom",type:"vertex",positions:[a[0]-f,a[1]+a[3]-f,p,p]},{index:i,name:"right-bottom",type:"vertex",positions:[a[0]+a[2]-f,a[1]+a[3]-f,p,p]},{index:i,name:"left",type:"border",positions:[a[0]-f,a[1]+f,p,a[3]-f]},{index:i,name:"top",type:"border",positions:[a[0]+f,a[1]-f,a[2]-f,p]},{index:i,name:"right",type:"border",positions:[a[0]+a[2]-f,a[1]+f,p,a[3]-f]},{index:i,name:"bottom",type:"border",positions:[a[0]+f,a[1]+a[3]-f,a[2]-f,p]}]}function gs(a,p){let i=!1,f=[],x=[];return p.forEach((b,C)=>{Io(a,b)&&(i=!0,f.push(b),x.push(C))}),{hasIn:i,coverList:f,coverIndexList:x}}function eu(a,p,i,f,x){a=Se(a,i,x,"move");let b=p.map((R,k)=>Fl(R,f,k)).flat(),C=gs(a,b.map(R=>R.positions));return{hasIn:C.hasIn,list:C.coverIndexList.map(R=>b[R])}}function ou(a){if(a=a.find(p=>p.type==="vertex")||a[0],a)return a;throw new Error("findOneBorderOrVertex list may be empty.")}function kl(a,p,i,f,x,b,C){C||((C=eu(p,i,f,x,b)).hasIn?((p=ou(C.list).name)!=="left-top"&&p!=="right-bottom"||(a.style.cursor="nwse-resize"),p!=="right-top"&&p!=="left-bottom"||(a.style.cursor="nesw-resize"),p!=="left"&&p!=="right"||(a.style.cursor="col-resize"),p!=="top"&&p!=="bottom"||(a.style.cursor="row-resize")):a.style.cursor="auto")}function _s(b,p,C){if(!C)return b;let f=K.exports.cloneDeep(b),x=C.name;var{offsetX:b,offsetY:C}=p;return x.includes("left")&&(f.startX+=b),x.includes("top")&&(f.startY+=C),x.includes("right")&&(f.endX+=b),x.includes("bottom")&&(f.endY+=C),f}function El(a,p,i,f,x,b,C,R,k,U,vt){if(p&&p.x!==void 0&&i&&i.x!==void 0){var p=Ml(p,i,b);if(p.isStartMove)return{offsetX:i,offsetY:b}=p.offsetInfo,p=Un(_s(f,{offsetX:i/x,offsetY:b/x},k),x,C),fr(a,U,C,vt),vt.mode=="crop"&&Yl(a,...p,vt,!0),Hn(a,R,C,vt),vt.mode=="tag"&&au(a,...p,vt,(f.__index||0)+1,void 0,f.isShow,f.showOutLine,f.labelText,f.tagConfig,void 0),p}}function ys(a,p){return Math.sqrt(Math.pow(a,2)+Math.pow(p,2))}function Il(a,p){return Math.abs(a-p)}function Ol(a){return{width:Il(a[0].clientX,a[1].clientX),height:Il(a[0].clientY,a[1].clientY)}}function Ji(a,p,i=1){return On({startX:(a[0]-p.x)/i,startY:(a[1]-p.y)/i,endX:(a[0]+a[2]-p.x)/i,endY:(a[1]+a[3]-p.y)/i}).info}function cn(a,p,i){return a.map((f,x)=>(f.__scale=p,f.__index=x,On(iu(f,i)).info))}function Jr(a,p,i){return a.map((f,x)=>(f.__scale=p,f.__index=x,ms(f,i)))}function Qi(a,p,i){return a.map(f=>f.map(x=>({...x,_x:x.x*i+p.x,_y:x.y*i+p.y})))}function Ll(a,p){for(const i of p)if(De(a,i))return!0;return!1}function ws(a,p){return p=De(a,p),!(!p||p.startX!==a.startX||p.endX!==a.endX||p.startY!==a.startY||p.endY!==a.endY)}function xs(a,p){let i=[],f=[];return p.forEach((x,b)=>{ws(a,x)&&(f.push(x),i.push(b))}),{boxList:f,indexList:i}}function iu(a,p){return a.startX=Er(a.startX,p),a.endX=Er(a.endX,p),a.startY=Er(a.startY,p),a.endY=Er(a.endY,p),a}function ms(a,p){return a.x=Er(a.x,p),a.y=Er(a.y,p),a.raduis=Er(a.raduis||0,p),a}function Er(a,p){return parseFloat(a.toFixed(p))}function Rl(a,p,i){return i=K.exports.cloneDeep(i.dotConfig),p.dotConfig&&Object.assign(i,p.dotConfig),a=(a.x-p.x)**2+(a.y-p.y)**2,a<=i.radius**2}var bs=(a,p)=>{const i=a.__vccOpts||a;for(var[f,x]of p)i[f]=x;return i};const lu=a=>(Vc("data-v-6ff721f8"),a=a(),qc(),a),Cs=["onTouchmove","onTouchstart","onTouchend"],Ds={key:0,class:"mode-panel"},Ss={class:"status"},ks={class:"text"},Es={class:"tip"},Is=lu(()=>Wn("kbd",null,"Ctrl",-1)),Os=$c(" + "),Ls=lu(()=>Wn("kbd",null,"B",-1)),Rs=lu(()=>Wn("span",{style:{"font-size":"14px","margin-left":"10px"}},"切换模式",-1)),Ts=Zc({props:{cropConfig:{default:()=>Gr.cropConfig},daubConfig:{default:()=>Gr.daubConfig},layerConfig:{default:()=>Gr.layerConfig},tagConfig:{default:()=>Gr.tagConfig},dotConfig:{default:()=>Gr.dotConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},enableDotCenterOutOfImg:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},dotList:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","update:dotList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(a,{expose:p,emit:i}){const f=a;let x=!1,b,C,R=null,k=null,U={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const vt=D.mobile()?.1/cr*1.5:.1;let Mt=vt,Dt=!1;function xt(){k=null,Dt=!1,Mt=vt,W.resizeHovering=void 0}let pt=!1,lt=null,X=null,gt,ut=K.exports.cloneDeep(be),yt=ur(K.exports.cloneDeep(be)),zt=K.exports.cloneDeep(wn),jt=K.exports.cloneDeep(wn),Ln=K.exports.cloneDeep(wn),$t={x:0,y:0},Nn=0,T={x:0,y:0},et={x:0,y:0},Y=ur(1),Bt,on,Rn=ur(1),St,rt=ur(1),It,ft=[],nt=[],mt=[],Vt=[],sr=ur({scale:1,zoomScale:1}),ht=(ar(()=>[Y.value,rt.value,Rn.value],()=>{sr.value.scale=Y.value,sr.value.zoomScale=rt.value},{deep:!0}),gl(()=>{let h=K.exports.cloneDeep(Gr);return Object.assign(h.cropConfig,f.cropConfig),Object.assign(h.tagConfig,f.tagConfig),Object.assign(h.layerConfig,f.layerConfig),Object.assign(h.daubConfig,f.daubConfig),Object.assign(h.dotConfig,f.dotConfig),h.drawingText=f.drawingText,h.mode=f.mode,h})),Gt=ur(),Ir=ur(),Or=ur(),W={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>zt.x!==void 0,isMouseUpDownPoints:()=>zt.x!==void 0&&jt.x!==void 0};const qt={dragCreatRectInterrupt(){dr()},dragCreatOrResizeRect(h){var v,E;X&&(h=="drawDot"&&ko(X,mt,T,ht.value),h=="drawCrop"&&(f.isCropSingle&&!W.isDrawRecting&&(nt=[]),W.isDrawRecting||i("drawCropStart"),W.isDrawRecting=!0,It=ss(X,zt,jt,rt.value,et,nt,T,ht.value),Hn(X,ft,T,ht.value),(v=f.customDrawTopCtx)==null||v.call(f,X,$n)),h=="drawTag"&&(W.isDrawRecting||i("drawTagStart"),W.isDrawRecting=!0,fr(X,nt,T,ht.value),It=hs(X,zt,jt,rt.value,et,ft,T,ht.value),(E=f.customDrawTopCtx)==null||E.call(f,X,$n)),h=="resize")&&{crop(){var B;f.enableCropResize&&W.resizeHovering&&X?(k=nt[W.resizeHovering.index||0],W.resizeHovering&&k&&(W.isDrawRecting=!0,It=El(X,zt,jt,k,k.__scale||1,rt.value,T,ft,W.resizeHovering,nt.filter(($,kt)=>{var Zn;return kt!==((Zn=W.resizeHovering)==null?void 0:Zn.index)}),ht.value),(B=f.customDrawTopCtx)==null||B.call(f,X,$n))):qt.move()},tag(){var B;f.enableTagResize&&W.resizeHovering&&X?(k=ft[W.resizeHovering.index||0],W.resizeHovering&&k&&(W.isDrawRecting=!0,It=El(X,zt,jt,k,k.__scale||1,rt.value,T,ft.filter(($,kt)=>{var Zn;return kt!==((Zn=W.resizeHovering)==null?void 0:Zn.index)}),W.resizeHovering,nt,ht.value),(B=f.customDrawTopCtx)==null||B.call(f,X,$n))):qt.move()},daub(){},dot(){}}[f.mode]()},changeMode(){f.mode==="tag"?i("update:mode","crop"):i("update:mode","tag")},scale(h,v){if(!gt||!lt||!X)throw new Error("can't find canvas ctx or img");W.isScaleing=!0,lt.translate(et.x,et.y),X.translate(et.x,et.y),et={x:et.x-(v.x/(rt.value*h)-v.x/rt.value),y:et.y-(v.y/(rt.value*h)-v.y/rt.value)},lt.scale(h,h),X.scale(h,h),lt.translate(-et.x,-et.y),X.translate(-et.x,-et.y),rt.value*=h,kr(lt),kr(X),Qr(lt,gt,T.x,T.y,yt.value.width*Y.value,yt.value.height*Y.value),Yt(),Dt=!1,W.isScaleing=!1},move(){var h;if(f.enableMove&&lt&&X&&gt&&!W.isScaleing){W.isMoving=!0;let v=ds(lt,X,gt,yt.value,Y.value,T,zt,jt,nt,rt.value,ft,mt,ht.value);(h=f.customDrawTopCtx)==null||h.call(f,X,E=>$n(E).map(O=>(v&&(O[0]+=v.offsetX,O[1]+=v.offsetY),O))),v&&(on=K.exports.cloneDeep(T))&&(on.x+=v.offsetX,on.y+=v.offsetY)}},scrollIntoView(h){if(lt&&X&&gt){var v=Un(h,Y.value,T);h.__scale=Y.value;let E=K.exports.take(Fl(h,T,void 0,0),4).map(B=>({x:B.positions[0]-et.x,y:B.positions[1]-et.y})),O=[0,0,((ut==null?void 0:ut.width)||0)/rt.value,((ut==null?void 0:ut.height)||0)/rt.value];E.every(B=>!Io(B,O))&&(T={x:T.x-v[0]+et.x+(O[2]-v[2])/2,y:T.y-v[1]+et.y+(O[3]-v[3])/2},kr(lt),kr(X),Qr(lt,gt,T.x,T.y,gt.width*Y.value,gt.height*Y.value),Yt())}},hoverRect(h){if(X&&(Dt=vs(X,f.mode,ft,rt.value,T,et,h,nt,W.isScaleing,Dt,ht.value),!x&&(f.enableCropResize&&f.mode==="crop"&&kl(Gt.value,h,nt,rt.value,T,et,W.isScaleing),f.enableTagResize&&f.mode==="tag"&&kl(Gt.value,h,ft,rt.value,T,et,W.isScaleing),f.mode=="dot"))){h=Se(h,rt.value,et,"move");let v={x:(h.x-T.x)/Y.value,y:(h.y-T.y)/Y.value,raduis:0},E=(Jr([v],Y.value,f.precision),K.exports.cloneDeep(mt));E.forEach(O=>{Rl(v,O,ht.value)?(O.__isHover=!0,Gt.value.style.cursor="pointer"):(O.__isHover=!1,Gt.value.style.cursor="auto")}),mt=E,ko(X,mt,T,ht.value),dr()}}},pr={onMouseOverMove(h){D.mobile()?this.onHoldMouseLeftBtnMove(h):W.isMouseDown()||D.mobile()?f.mode==="dot"&&!x||this.onHoldMouseLeftBtnMove(h):qt.hoverRect(h)},onHoldMouseLeftBtnMove(h){var v,E;jt={x:h.layerX,y:h.layerY},x?this.onDrawSwitchOnStartDraw():f.mode==="daub"?W.isScaleing||(h=Eo(Ln,rt.value,et),E={x:(v=Eo(jt,rt.value,et)).x,y:v.y,lineWidth:f.daubConfig.lineWidth,strokeStyle:f.daubConfig.strokeStyle},X&&(Ki(X,[h,v],T,ht.value),Ln=K.exports.cloneDeep(jt),Vt[Vt.length-1].push(E))):W.resizeHovering?qt.dragCreatOrResizeRect("resize"):qt.move()},onDoubleClick(h){f.mode==="crop"&&f.enableInteractiveCropDelete&&je(Ce(h,nt,Y.value,T).boxList),f.mode==="tag"&&Ce(h,ft,Y.value,T).boxList.forEach(E=>{var O;(O=E==null?void 0:E.onDoubleClick)==null||O.call(E,"",E)})},onCick(h){if(f.mode=="dot"){var v=h;let E={x:(v.x-T.x)/Y.value,y:(v.y-T.y)/Y.value,raduis:0};return Jr([E],Y.value,f.precision),!f.enableDotCenterOutOfImg&&(E.x<0||E.x>yt.value.width||E.y<0||E.y>yt.value.height)?void 0:(v=mt.filter(O=>!Rl(E,O,ht.value)),v.length!==mt.length?(mt=v,void Yt()):(mt.push(E),dr(),void qt.dragCreatOrResizeRect("drawDot")))}f.mode==="tag"&&X&&(Ce(h,ft,Y.value,T).boxList.forEach(O=>{var B;(B=O==null?void 0:O.onClick)==null||B.call(O,"",O)}),f.enableInteractiveTagChangeStatus&&(fr(X,nt,T,ht.value),{isReDraw:v,redrawList:h}=Hn(X,ft,T,ht.value,void 0,h),v&&(Yt(),Rr("statusChange",qn(h)))))},onWheel(h,v,E){(f.enableScale||E)&&qt.scale(h,v)},onDrawSwitchOnStartDraw(){f.mode==="dot"?qt.move():f.mode==="crop"?f.enableDrawCrop&&qt.dragCreatOrResizeRect("drawCrop"):f.enableDrawTag&&qt.dragCreatOrResizeRect("drawTag")}},sn={shiftMode(){qt.changeMode()},shiftDrawSwitch(h){Zi(()=>{h==="on"&&((f.enableDrawCrop&&f.mode==="crop"||f.enableDrawTag&&f.mode==="tag")&&(Gt.value.style.cursor="crosshair"),W.isMouseDown()||(x=!0)),h==="off"&&(W.isMoving||W.resizeHovering||qt.dragCreatRectInterrupt(),x=!1)})},init(){(async function(){if(xt(),pt=!1,lt=null,X=null,gt=void 0,ut=K.exports.cloneDeep(be),yt.value=K.exports.cloneDeep(be),zt=K.exports.cloneDeep(wn),jt=K.exports.cloneDeep(wn),Ln=K.exports.cloneDeep(wn),T={x:0,y:0},et={x:0,y:0},Y.value=1,Bt=void 0,on=void 0,Rn.value=1,St=void 0,rt.value=1,It=void 0,ft=[],nt=[],await Zi(),1<f.cropList.length){let h={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};f.cropList.forEach(v=>{v=On(v),v.info.startX<h.startX&&(h.startX=v.info.startX),v.info.startY<h.startY&&(h.startY=v.info.startY),v.info.endX>h.endX&&(h.endX=v.info.endX),v.info.endY>h.endY&&(h.endY=v.info.endY)}),Bt=h}return f.cropList.length==1&&(Bt=f.cropList[0]),ft=K.exports.cloneDeep(f.tagList),nt=K.exports.cloneDeep(f.cropList),mt=K.exports.cloneDeep(f.dotList),Vt=K.exports.cloneDeep(f.daubStack),hr(),D.mobile()||(window.addEventListener("keydown",te),window.addEventListener("keyup",Ee)),Ie(),lt=Ir.value.getContext("2d"),X=Or.value.getContext("2d"),lt&&X?(ut=In(Cl(lt.canvas)))?(So(lt,ut),So(X,ut),i("onLoadImage",{status:"loading"}),bl(f.src).then(h=>{if(i("onLoadImage",{status:"success"}),!ut||!lt||!X)return Promise.reject("canvasWH or canvas var not has valid values.");if(gt=h,yt.value={width:gt.width,height:gt.height},f.initScale){var v,E,O,B,$,h=us(ut,gt);if(Y.value=Rn.value=h.scale,Bt)return v=Un(Bt,Rn.value,T),E=(ut.width-.05*ut.width)/v[2],O=(ut.height-.05*ut.height)/v[3],O=ut.width/ut.height>v[2]/v[3]?O:E,B=v[0]+v[2],$=v[1]+v[3],(O=O)==E?(T.x=(ut.width-B*O-.05*ut.width/2)/O,T.y=((ut.height-v[3]*O)/2-v[1]*O)/O):(T.x=((ut.width-v[2]*O)/2-v[0]*O)/O,T.y=(ut.height-$*O-.05*ut.height/2)/O),nt=cn(nt,Y.value,f.precision),ft=cn(ft,Y.value,f.precision),mt=Jr(mt,Y.value,f.precision),Vt=Qi(Vt,T,Y.value),ne({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:O},!0),!0;h.fit==="width"?T.x=(ut.width-yt.value.width*Y.value)/2:T.y=(ut.height-yt.value.height*Y.value)/2,Bt={startX:0,startY:0,endX:0+yt.value.width,endY:0+yt.value.height},f.isImgCrop&&Vn("add",nt=[Bt])}return nt=cn(nt,Y.value,f.precision),ft=cn(ft,Y.value,f.precision),mt=Jr(mt,Y.value,f.precision),Vt=Qi(Vt,T,Y.value),Qr(lt,gt,T.x,T.y,gt.width*Y.value,gt.height*Y.value),Yt(),!0}).catch(h=>{i("onLoadImage",{status:"error",msg:JSON.stringify(h)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{pt=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(Oo(),await Zi(),hr(),lt&&X&&gt){if(!(ut=In(Cl(lt.canvas))))return Promise.reject("Error: can't get canvas height and width.");So(lt,ut),So(X,ut),lt.scale(rt.value,rt.value),X.scale(rt.value,rt.value),lt.translate(-et.x,-et.y),X.translate(-et.x,-et.y),Qr(lt,gt,T.x,T.y,gt.width*Y.value,gt.height*Y.value),nt=cn(nt,Y.value,f.precision),ft=cn(ft,Y.value,f.precision),mt=Jr(mt,Y.value,f.precision),Yt(),pt=!0}})()})}};function te(h){h.code!=="Space"||f.disableDefaultShortcuts.includes("space")||(h.target===document.body&&h.preventDefault(),sn.shiftDrawSwitch("on"))}function Ee(h){if(h.code==="KeyB"&&h.ctrlKey){if(f.disableDefaultShortcuts.includes("ctrl+b"))return;sn.shiftMode()}h.code!=="Space"||f.disableDefaultShortcuts.includes("space")||sn.shiftDrawSwitch("off")}function hr(){var h=Gt.value.getBoundingClientRect();St={top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:h.width,height:h.height,x:h.x,y:h.y}}function Oo(){k=null,pt=!1,ut=K.exports.cloneDeep(be),zt=K.exports.cloneDeep(wn),jt=K.exports.cloneDeep(wn),Ln=K.exports.cloneDeep(wn),St=void 0}function $n(h){return cn(h,Y.value,f.precision).map(E=>Un(E,Y.value,T))}function Yt(){var h;X&&(fr(X,nt,T,ht.value),Hn(X,ft,T,ht.value),ko(X,mt,T,ht.value),Vt.forEach(v=>{X&&Ki(X,v,T,ht.value)}),(h=f.customDrawTopCtx)==null||h.call(f,X,$n))}function Ie(){D.mobile()&&(f.mobileOperation==="draw"&&sn.shiftDrawSwitch("on"),f.mobileOperation==="move"&&sn.shiftDrawSwitch("off"))}function Oe(){sn.resize()}function ne(h,v){f.enableScale&&(h.stopPropagation(),h.preventDefault());var E,O,B;if(!St)throw new Error("can't find  containerInfo.");!pt&&!h.__zoom||W.isDrawRecting||W.isMoving||(E=v?0:(h.clientX-St.left)*cr,O=v?0:(h.clientY-St.top)*cr,B=h.deltaY<0?1:-1,h=v?h.__zoom:Math.exp(B*Mt),rt.value*h<.2||pr.onWheel(h,{x:E,y:O},v))}function Lr(h){if(W.resizeHovering){var v;let E={crop:{boxList:nt,trigger:Vn,getBoxFunc:Tn},tag:{boxList:ft,trigger:Rr,getBoxFunc:qn},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]},dot:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[f.mode];E.boxList[W.resizeHovering.index]=h,i("resizeEnd",{index:W.resizeHovering.index,box:h}),f.mode==="tag"&&(v=Sl(zt,jt),Object.assign(h,{__oprateType:"resize",__vertexPosition:v})),E.trigger("resize",E.getBoxFunc([h]))}}function dr(){pt&&(W.isMoving=!1,on&&(T=K.exports.cloneDeep(on)),on=void 0,(W.isMouseUpDownPoints()||f.mode==="dot")&&{crop(){if(It){let v={...k,...Ji(It,T,Y.value)};k=null,W.resizeHovering?!f.enableCropCross&&Ll(v,nt.filter((E,O)=>{var B;return O!==((B=W.resizeHovering)==null?void 0:B.index)}))?(f.handleResizeCropCross==="reset"&&Yt(),f.handleResizeCropCross==="delete"&&je([nt[W.resizeHovering.index]])):Lr(v):(v=cn([v],Y.value,f.precision)[0],!f.enableCropCross&&Ll(v,nt)?Yt():(nt.push(v),Vn("add",Tn([v])))),It=void 0}},tag(){var v,E;It&&(v={...k,...Ji(It,T,Y.value)},k=null,W.resizeHovering?Lr(v):(v=Sl(zt,jt),E=cn([E=Ji(It,T,Y.value)],Y.value,f.precision)[0],Object.assign(E,{isShow:!0,__oprateType:"add",__vertexPosition:v}),ft.push(E),Rr("add",qn([E]))),It=void 0)},daub(){It=It&&void 0;let v=K.exports.cloneDeep(Vt);i("update:daubStack",v.map(E=>E.map(O=>(O._x!=null&&O._y!=null?(delete O._x,delete O._y):(O.x=(O.x-T.x)/Y.value,O.y=(O.y-T.y)/Y.value),O))))},dot(){let v=K.exports.cloneDeep(mt);i("update:dotList",v.map(E=>E))}}[f.mode](),W.resizeHovering=void 0,W.isDrawRecting=!1,zt=K.exports.cloneDeep(wn),jt=K.exports.cloneDeep(wn),Ln=K.exports.cloneDeep(wn),Gt.value.style.cursor="auto")}function Vn(h,v){var E=Tn(nt);i("update:cropList",E),i("cropListChange",{type:h,list:v})}function Rr(h,v){let E={type:h,list:v};if(h==="add"){let O=v.filter(B=>Reflect.get(B,"__parentCrop"))[0];O&&(E.parentCrop=Tn([Reflect.get(O,"__parentCrop")])[0],delete O.__parentCrop)}i("tagListChange",E),h=qn(ft),i("update:tagList",h)}function qn(h){let v=h||ft,E=nt,O=[];return v.forEach(B=>{let $=B;if(!f.enableDrawTagOutOfCrop&&$.__oprateType&&$.__vertexPosition){if(B=Ce(ps($,$.__vertexPosition),E).boxList[0],!B)return;var kt=De($,B);kt&&Gi(kt)?(Object.assign($,kt),$.__parentCrop=B):$.__isValidity=!1}delete $.__oprateType,Reflect.deleteProperty($,"__vertexPosition"),f.enableDrawTagOutOfCrop&&!f.enableDrawTagOutOfImg&&(B={startX:0,startY:0,endX:(kt=yt.value).width,endY:kt.height},(kt=De($,B))&&Gi(kt)?Object.assign($,kt):$.__isValidity=!1),B=On($),O.push(iu(B.info,f.precision))}),O.filter(B=>B.__isValidity!==!1)}function Tn(h){return(h||nt).map(kt=>{let B=kt;f.enableDrawCropOutOfImg||($={startX:0,startY:0,endX:($=yt.value).width,endY:$.height},($=De(B,$))&&Gi($)?B={...kt,...$}:B._del=!0),Reflect.deleteProperty(B,"__vertexPosition");var $,kt=On(B);return iu(kt.info,f.precision)}).filter(O=>!O._del)}function Le(h){var v;pt&&lt&&X&&(v=new Date().getTime(),b=v,U.prev.down?U.last.down=v:U.prev.down=v,v=In(v={layerX:Reflect.get(h,"layerX"),layerY:Reflect.get(h,"layerY")},["layerX","layerY"]),zt={x:v.layerX,y:v.layerY},Ln=K.exports.cloneDeep(zt),f.mode=="daub"&&Vt.push([]),f.mode==="crop"&&!x&&f.enableCropResize&&(h=eu(v,nt,rt.value,T,et)).hasIn&&(W.resizeHovering=ou(h.list),i("resizeStart",{index:W.resizeHovering.index,box:nt[W.resizeHovering.index]})),f.mode==="tag"&&!x&&f.enableTagResize&&(h=eu(v,ft,rt.value,T,et)).hasIn&&(W.resizeHovering=ou(h.list),i("resizeStart",{index:W.resizeHovering.index,box:ft[W.resizeHovering.index]})))}Kc(()=>{window.removeEventListener("resize",Oe),D.mobile()||(window.removeEventListener("keydown",te),window.removeEventListener("keyup",Ee)),xt()}),Gc(()=>{sn.init(),window.addEventListener("resize",Oe)}),ar(()=>f.mode,h=>{h==="tag"&&(Gt.value.style.cursor="auto")}),ar(()=>f.src,h=>{h&&sn.init()}),ar(()=>f.mobileOperation,h=>{pt&&Ie()}),ar(()=>f.tagList,h=>{pt&&(ft=cn(h,Y.value,f.precision),Yt())},{deep:!0}),ar(()=>f.dotList,h=>{pt&&(mt=Jr(h,Y.value,f.precision),Yt())},{deep:!0}),ar(()=>f.daubStack,h=>{pt&&(Vt=Qi(K.exports.cloneDeep(f.daubStack),T,Y.value),Yt())},{deep:!0}),ar(()=>f.cropList,h=>{pt&&(nt=cn(h,Y.value,f.precision),Yt())});let Re=K.exports.throttle(function(h){if(h){h=Se(h,rt.value,et,"over");let v=K.exports.cloneDeep(h);v.x-=T.x,v.y-=T.y,v.x/=Y.value,v.y/=Y.value,i("mouseOverInfo",{canvas:h,img:v})}else i("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Te(h){pt&&(h=In(h={layerX:Reflect.get(h,"layerX"),layerY:Reflect.get(h,"layerY")},["layerX","layerY"]),C=new Date().getTime(),pr.onMouseOverMove(h),Re(h))}function ze(){var h;pt&&(h=new Date().getTime(),U.prev.up?U.last.up=h:U.prev.up=h,dr())}function Lo(){pt&&(Gt.value.style.cursor="auto",dr(),Re())}function re(){R&&clearTimeout(R),R=null}function Ro(h){if(hr(),pt){let v=Se(In({layerX:Reflect.get(h,"layerX"),layerY:Reflect.get(h,"layerY")},["layerX","layerY"]),rt.value,et,"click");var h=C&&b?C-b:0;b=void 0,C=void 0,100<h||(f.splitClickAndDoubleClickEvent?(re(),R=setTimeout(()=>{pr.onCick(v),R=null},230)):pr.onCick(v),h=f.splitClickAndDoubleClickEvent?320:360,U.prev.up&&U.prev.down&&U.last.up&&U.last.down&&(U.last.up-U.prev.down<h?(f.splitClickAndDoubleClickEvent&&re(),pr.onDoubleClick(v),U.prev.down=void 0,U.prev.up=void 0):(U.prev.down=U.last.down,U.prev.up=U.last.up),U.last.down=void 0,U.last.up=void 0))}}function To(h){hr(),b=new Date().getTime();var v=h.touches;if(h.touches.length===1&&Le({layerX:v[0].clientX-((St==null?void 0:St.left)||0),layerY:v[0].clientY-((St==null?void 0:St.top)||0)}),h.touches.length==2){if(!St)throw new Error("can't find  containerInfo.");Ol(Dl(h)),$t={x:(v[0].clientX+v[1].clientX)/2,y:(v[0].clientY+v[1].clientY)/2}}}function zo(h){C=new Date().getTime();var v=h.touches;if(h.touches.length===1&&Te({layerX:v[0].clientX-((St==null?void 0:St.left)||0),layerY:v[0].clientY-((St==null?void 0:St.top)||0)}),h.touches.length==2){if(!St)throw new Error("can't find  containerInfo.");var{width:v,height:h}=Ol(Dl(h)),v=ys(v,h),h=-(v-Nn);Nn=v,ne({onTouchMove:!0,deltaY:h,preventDefault(){},stopPropagation(){},clientX:$t.x,clientY:$t.y})}}function jo(h){ze()}function je(h){if(h.length!==0){let v=[],E=[];Tn().forEach(B=>{(h.find($=>($=On($).info,$.startX===B.startX&&$.endX===B.endX&&$.startY===B.startY&&$.endY===B.endY))?E:v).push(B)}),nt=cn(v,Y.value,f.precision),i("delCrop",E),Yt(),Vn("delete",Tn(E))}}var Bo=Yt,Tr=gl(()=>({imgWH:yt.value}));return p({render:Bo,removeTagItems:function(h){let v=[],E=[];h.length!==0&&qn().forEach(B=>{(h.find($=>($=On($).info,$.startX===B.startX&&$.endX===B.endX&&$.startY===B.startY&&$.endY===B.endY))?E:v).push(B)}),ft=cn(v,Y.value,f.precision),Yt(),Rr("delete",E)},getTagListGroupByCropIndex:function(h="startPoint"){let v=qn(),E=Tn();return v.forEach(O=>{var B;h==="startPoint"&&(B=Ce({x:O.startX,y:O.startY},E),O.__groupIndex=B.indexList[0]),h==="allIn"&&(B=xs(O,E),O.__groupIndex=B.indexList[0])}),K.exports.groupBy(v,"__groupIndex")},getBase64ImageData:async function(h){const v=document.createElement("canvas");v.style.width=yt.value.width+"px",v.style.height=yt.value.height+"px",v.width=yt.value.width,v.height=yt.value.height;let E=v.getContext("2d");return bl(f.src,h).then(O=>{if(E){let B={x:0,y:0};return Qr(E,O,0,0,O.width,O.height),fr(E,f.cropList,B,ht.value,void 0,!0),Hn(E,f.tagList,B,ht.value),f.daubStack.forEach($=>{E&&Ki(E,$,B,ht.value)}),v.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:sn,scrollIntoView:qt.scrollIntoView,scaleInfo:sr,info:Tr}),(h,v)=>(_l(),yl("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:Gt,onMousedown:Le,onMouseenter:hr,onClick:Ro,onMouseup:ze,onMousemove:Te,onMouseout:Lo,onMousewheel:ne,onTouchmove:qi(zo,["stop","prevent"]),onTouchstart:qi(To,["stop"]),onTouchend:qi(jo,["stop"])},[Wn("canvas",{class:"canvas",ref_key:"canvasRef",ref:Ir},null,512),Wn("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:Or},null,512),Jc(f).isShowTip?(_l(),yl("div",Ds,[Wn("div",Ss,[Wn("div",{class:Qc(["circle",{crop:a.mode==="crop",tag:a.mode==="tag"}])},null,2),Wn("div",ks,ts(a.mode==="crop"?"裁剪模式":"标记错误行"),1)]),Wn("div",Es,[ns(h.$slots,"tip",{},()=>[Is,Os,Ls,Rs],!0)])])):rs("",!0)],40,Cs))}});var js=bs(Ts,[["__scopeId","data-v-6ff721f8"]]);export{js as ImgMark,ws as boxIsAllInOtherBox};
