import{_ as a,c as e,a2 as n,o as i}from"./chunks/framework.DPDg7N6I.js";const g=JSON.parse('{"title":"Linux 安装 redis","description":"","frontmatter":{},"headers":[],"relativePath":"pages/linux/Linux Install Redis.md","filePath":"pages/linux/Linux Install Redis.md"}'),t={name:"pages/linux/Linux Install Redis.md"};function p(l,s,d,r,c,o){return i(),e("div",null,s[0]||(s[0]=[n(`<h1 id="linux-安装-redis" tabindex="-1">Linux 安装 redis <a class="header-anchor" href="#linux-安装-redis" aria-label="Permalink to &quot;Linux 安装 redis&quot;">​</a></h1><blockquote><p><a href="http://redisbook.com/" title="Redis学习资料" target="_blank" rel="noreferrer">Redis 学习资料</a></p></blockquote><h2 id="下载编译安装" tabindex="-1">下载编译安装 <a class="header-anchor" href="#下载编译安装" aria-label="Permalink to &quot;下载编译安装&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wget http://download.redis.io/releases/redis-4.0.1.tar.gz</span></span>
<span class="line"><span>tar -zxvf redis-4.0.1.tar.gz</span></span>
<span class="line"><span>cd redis-4.0.1.tar.gz</span></span>
<span class="line"><span>make</span></span>
<span class="line"><span>cd src</span></span>
<span class="line"><span>make install</span></span>
<span class="line"><span>redis-server –v //查看版本命令,检查是否安装成功</span></span></code></pre></div><h2 id="配置-redis" tabindex="-1">配置 redis <a class="header-anchor" href="#配置-redis" aria-label="Permalink to &quot;配置 redis&quot;">​</a></h2><p><strong>1.配置文件一般在 /etc/ 目录下，在此目录创建 redis 目录</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /etc/</span></span>
<span class="line"><span>mkdir redis</span></span></code></pre></div><p><strong>2.dump file、进程 pid、log 目录等，一般放在 /var/ 目录下</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /var/</span></span>
<span class="line"><span>mkdir redis</span></span>
<span class="line"><span>cd redis</span></span>
<span class="line"><span>mkdir data log run</span></span></code></pre></div><p><strong>3.拷贝解压包下的 redis.conf 文件至 /etc/redis/</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cp redis-4.0.1.tar.gz/redis.conf /etc/redis/</span></span>
<span class="line"><span>vim /etc/redis/redis.conf</span></span></code></pre></div><ul><li>port 配置端口 （采用默认 6379）</li><li>dir 配置 dump 目录（修改为第 2 步创建的 /var/redis/data 目录）</li><li>logfile 配置日志目录 （修改 log 存储目录为第 2 步创建的 /var/redis/log/redis.log 目录）</li><li>daemonize 默认 rdb，可选择是否开启 aof（持久化 ） 6.x 版本 appendonly yes</li><li>requirepass 设置密码，设置后无密码方式可登陆，但是不可进行数据操作</li><li>bind 0.0.0.0 开启远程访问</li></ul><h2 id="服务及开机自启动" tabindex="-1">服务及开机自启动 <a class="header-anchor" href="#服务及开机自启动" aria-label="Permalink to &quot;服务及开机自启动&quot;">​</a></h2><p>**1.拷贝解压包 utils 下 redis 启动脚本 至 /etc/init.d/ **</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cp redis_init_script /etc/init.d/</span></span>
<span class="line"><span>cd /etc/init.d/</span></span>
<span class="line"><span>mv redis_init_script redis</span></span>
<span class="line"><span>chmod +x /etc/init.d/redis</span></span></code></pre></div><p>至此，已经可以通过 <code>service redis start/stop</code> 命令启动和关闭 redis <strong>2.设置自启动</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>chkconfig redis on</span></span></code></pre></div><ul><li>如果运行报错，在启动脚本里加入 redis 启动优先级信息</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>vim redis</span></span></code></pre></div><ul><li><strong>在 #!/bin/sh 下边加入如下两行配置：</strong> _ #chkconfig:2345 90 10 _ #description: Resid ...</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>chkconfig redis on</span></span></code></pre></div><hr><p>此文参考 <a href="http://blog.csdn.net/ludonqin/article/details/47211109" target="_blank" rel="noreferrer">http://blog.csdn.net/ludonqin/article/details/47211109</a></p>`,23)]))}const u=a(t,[["render",p]]);export{g as __pageData,u as default};
